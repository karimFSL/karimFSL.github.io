"use strict";(globalThis.webpackChunkdocusaurus_poc=globalThis.webpackChunkdocusaurus_poc||[]).push([[2892],{1737:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"development/java/data-layer/liquibase","title":"Liquibase avec Spring Boot","description":"Qu\'est-ce que Liquibase ?","source":"@site/docs/development/java/data-layer/liquibase.md","sourceDirName":"development/java/data-layer","slug":"/development/java/data-layer/liquibase","permalink":"/docs/development/java/data-layer/liquibase","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/development/java/data-layer/liquibase.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docs","previous":{"title":"Audit des entit\xe9s","permalink":"/docs/development/java/data-layer/logging"},"next":{"title":"Best Practices guide","permalink":"/docs/development/java/best-practices/"}}');var a=r(4848),s=r(8453);const l={sidebar_position:3},t="Liquibase avec Spring Boot",c={},o=[{value:"Qu&#39;est-ce que Liquibase ?",id:"quest-ce-que-liquibase-",level:2},{value:"Installation",id:"installation",level:2},{value:"Maven",id:"maven",level:3},{value:"Gradle",id:"gradle",level:3},{value:"Configuration application.yml",id:"configuration-applicationyml",level:2},{value:"Options principales",id:"options-principales",level:3},{value:"Structure d&#39;un Changelog",id:"structure-dun-changelog",level:2},{value:"Fichier master (XML)",id:"fichier-master-xml",level:3},{value:"Exemple de changeset",id:"exemple-de-changeset",level:3},{value:"Int\xe9gration Spring Boot",id:"int\xe9gration-spring-boot",level:2},{value:"Ex\xe9cution automatique",id:"ex\xe9cution-automatique",level:3},{value:"Configuration programmatique",id:"configuration-programmatique",level:3},{value:"D\xe9sactiver pour les tests",id:"d\xe9sactiver-pour-les-tests",level:3},{value:"Utilisation de profils",id:"utilisation-de-profils",level:3},{value:"Formats support\xe9s",id:"formats-support\xe9s",level:2},{value:"Commandes Maven/Gradle",id:"commandes-mavengradle",level:2},{value:"Maven",id:"maven-1",level:3},{value:"Gradle",id:"gradle-1",level:3},{value:"Bonnes pratiques",id:"bonnes-pratiques",level:2},{value:"Exemple avec rollback",id:"exemple-avec-rollback",level:3},{value:"Utilisation des contextes",id:"utilisation-des-contextes",level:2},{value:"Tables techniques",id:"tables-techniques",level:2},{value:"Int\xe9gration CI/CD avec Spring Boot",id:"int\xe9gration-cicd-avec-spring-boot",level:2},{value:"Validation avant d\xe9ploiement",id:"validation-avant-d\xe9ploiement",level:3},{value:"Ex\xe9cution conditionnelle",id:"ex\xe9cution-conditionnelle",level:3},{value:"Docker avec Spring Boot",id:"docker-avec-spring-boot",level:3},{value:"GitLab CI",id:"gitlab-ci",level:3},{value:"D\xe9pannage",id:"d\xe9pannage",level:2},{value:"Liquibase ne s&#39;ex\xe9cute pas",id:"liquibase-ne-sex\xe9cute-pas",level:3},{value:"Erreur de checksum",id:"erreur-de-checksum",level:3},{value:"Conflits de lock",id:"conflits-de-lock",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"liquibase-avec-spring-boot",children:"Liquibase avec Spring Boot"})}),"\n",(0,a.jsx)(n.h2,{id:"quest-ce-que-liquibase-",children:"Qu'est-ce que Liquibase ?"}),"\n",(0,a.jsx)(n.p,{children:"Liquibase est un outil open-source de gestion de versions pour bases de donn\xe9es. Il s'int\xe8gre nativement avec Spring Boot pour automatiser les migrations de sch\xe9ma au d\xe9marrage de l'application."}),"\n",(0,a.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.h3,{id:"maven",children:"Maven"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\r\n    <groupId>org.liquibase</groupId>\r\n    <artifactId>liquibase-core</artifactId>\r\n</dependency>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"gradle",children:"Gradle"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gradle",children:"implementation 'org.liquibase:liquibase-core'\n"})}),"\n",(0,a.jsx)(n.p,{children:"Spring Boot g\xe8re automatiquement la version de Liquibase compatible."}),"\n",(0,a.jsx)(n.h2,{id:"configuration-applicationyml",children:"Configuration application.yml"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"spring:\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/mydb\r\n    username: user\r\n    password: pass\r\n    \r\n  liquibase:\r\n    enabled: true\r\n    change-log: classpath:db/changelog/db.changelog-master.xml\r\n    contexts: dev\r\n    default-schema: public\r\n    liquibase-schema: public\r\n    drop-first: false\n"})}),"\n",(0,a.jsx)(n.h3,{id:"options-principales",children:"Options principales"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"enabled"}),": Active/d\xe9sactive Liquibase (true par d\xe9faut)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"change-log"}),": Chemin vers le changelog master"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"contexts"}),": Contextes \xe0 ex\xe9cuter (dev, test, prod)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"default-schema"}),": Sch\xe9ma par d\xe9faut pour les changements"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"drop-first"}),": Supprime le sch\xe9ma avant migration (dev uniquement)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"user/password"}),": Credentials sp\xe9cifiques (optionnel)"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"structure-dun-changelog",children:"Structure d'un Changelog"}),"\n",(0,a.jsx)(n.h3,{id:"fichier-master-xml",children:"Fichier master (XML)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<databaseChangeLog\r\n    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"\r\n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\r\n    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog\r\n    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.24.xsd">\r\n\r\n    <include file="db/changelog/changes/001-create-user-table.xml"/>\r\n    <include file="db/changelog/changes/002-add-email-column.xml"/>\r\n</databaseChangeLog>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"exemple-de-changeset",children:"Exemple de changeset"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<databaseChangeLog>\r\n    <changeSet id="001" author="dev">\r\n        <createTable tableName="user">\r\n            <column name="id" type="bigint" autoIncrement="true">\r\n                <constraints primaryKey="true"/>\r\n            </column>\r\n            <column name="username" type="varchar(50)">\r\n                <constraints nullable="false" unique="true"/>\r\n            </column>\r\n            <column name="created_at" type="timestamp" defaultValueComputed="CURRENT_TIMESTAMP"/>\r\n        </createTable>\r\n    </changeSet>\r\n</databaseChangeLog>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"int\xe9gration-spring-boot",children:"Int\xe9gration Spring Boot"}),"\n",(0,a.jsx)(n.h3,{id:"ex\xe9cution-automatique",children:"Ex\xe9cution automatique"}),"\n",(0,a.jsx)(n.p,{children:"Spring Boot ex\xe9cute automatiquement Liquibase au d\xe9marrage de l'application. Aucune configuration suppl\xe9mentaire n'est n\xe9cessaire."}),"\n",(0,a.jsx)(n.h3,{id:"configuration-programmatique",children:"Configuration programmatique"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Configuration\r\npublic class LiquibaseConfig {\r\n    \r\n    @Bean\r\n    public SpringLiquibase liquibase(DataSource dataSource) {\r\n        SpringLiquibase liquibase = new SpringLiquibase();\r\n        liquibase.setDataSource(dataSource);\r\n        liquibase.setChangeLog("classpath:db/changelog/db.changelog-master.xml");\r\n        liquibase.setContexts("dev");\r\n        liquibase.setShouldRun(true);\r\n        return liquibase;\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"d\xe9sactiver-pour-les-tests",children:"D\xe9sactiver pour les tests"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@SpringBootTest\r\n@TestPropertySource(properties = {\r\n    "spring.liquibase.enabled=false"\r\n})\r\nclass MyServiceTest {\r\n    // Tests sans ex\xe9cution de Liquibase\r\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"utilisation-de-profils",children:"Utilisation de profils"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"spring:\r\n  config:\r\n    activate:\r\n      on-profile: dev\r\n  liquibase:\r\n    contexts: dev\r\n    drop-first: true\r\n---\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: prod\r\n  liquibase:\r\n    contexts: prod\r\n    drop-first: false\n"})}),"\n",(0,a.jsx)(n.h2,{id:"formats-support\xe9s",children:"Formats support\xe9s"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"XML"})," : Format le plus complet"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"YAML"})," : Plus lisible"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"JSON"})," : Pour l'int\xe9gration avec d'autres outils"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SQL"})," : SQL natif avec m\xe9tadonn\xe9es Liquibase"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Exemple YAML :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"databaseChangeLog:\r\n  - changeSet:\r\n      id: 001\r\n      author: dev\r\n      changes:\r\n        - createTable:\r\n            tableName: user\r\n            columns:\r\n              - column:\r\n                  name: id\r\n                  type: bigint\r\n                  autoIncrement: true\r\n                  constraints:\r\n                    primaryKey: true\n"})}),"\n",(0,a.jsx)(n.h2,{id:"commandes-mavengradle",children:"Commandes Maven/Gradle"}),"\n",(0,a.jsx)(n.h3,{id:"maven-1",children:"Maven"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Mettre \xe0 jour la base de donn\xe9es\r\nmvn liquibase:update\r\n\r\n# Voir le statut\r\nmvn liquibase:status\r\n\r\n# Rollback\r\nmvn liquibase:rollback -Dliquibase.rollbackCount=1\r\n\r\n# G\xe9n\xe9rer un changelog depuis une DB existante\r\nmvn liquibase:generateChangeLog\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Configuration dans ",(0,a.jsx)(n.code,{children:"pom.xml"})," :"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<plugin>\r\n    <groupId>org.liquibase</groupId>\r\n    <artifactId>liquibase-maven-plugin</artifactId>\r\n    <configuration>\r\n        <propertyFile>src/main/resources/liquibase.properties</propertyFile>\r\n    </configuration>\r\n</plugin>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"gradle-1",children:"Gradle"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Mettre \xe0 jour la base de donn\xe9es\r\n./gradlew update\r\n\r\n# Voir le statut\r\n./gradlew status\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Configuration dans ",(0,a.jsx)(n.code,{children:"build.gradle"})," :"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gradle",children:"plugins {\r\n    id 'org.liquibase.gradle' version '2.2.0'\r\n}\r\n\r\nliquibase {\r\n    activities {\r\n        main {\r\n            changelogFile 'src/main/resources/db/changelog/db.changelog-master.xml'\r\n            url 'jdbc:postgresql://localhost:5432/mydb'\r\n            username 'user'\r\n            password 'pass'\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"bonnes-pratiques",children:"Bonnes pratiques"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Un changeset = une modification atomique"})," : Facilite les rollbacks"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"ID uniques"})," : Utiliser des pr\xe9fixes (ex: ",(0,a.jsx)(n.code,{children:"001-"}),", ",(0,a.jsx)(n.code,{children:"002-"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Ne jamais modifier un changeset d\xe9ploy\xe9"})," : Cr\xe9er un nouveau changeset"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Utiliser des contextes"})," : Diff\xe9rencier dev/test/prod"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Inclure des rollback"})," : Pour les changesets complexes"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Structure de dossiers"})," : Organiser par version ou fonctionnalit\xe9"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"src/main/resources/\r\n\u2514\u2500\u2500 db/\r\n    \u2514\u2500\u2500 changelog/\r\n        \u251c\u2500\u2500 db.changelog-master.xml\r\n        \u2514\u2500\u2500 changes/\r\n            \u251c\u2500\u2500 v1.0/\r\n            \u2502   \u251c\u2500\u2500 001-create-user-table.xml\r\n            \u2502   \u2514\u2500\u2500 002-create-order-table.xml\r\n            \u2514\u2500\u2500 v1.1/\r\n                \u2514\u2500\u2500 003-add-user-email.xml\n"})}),"\n",(0,a.jsx)(n.h3,{id:"exemple-avec-rollback",children:"Exemple avec rollback"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<changeSet id="003" author="dev">\r\n    <addColumn tableName="user">\r\n        <column name="phone" type="varchar(20)"/>\r\n    </addColumn>\r\n    <rollback>\r\n        <dropColumn tableName="user" columnName="phone"/>\r\n    </rollback>\r\n</changeSet>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"utilisation-des-contextes",children:"Utilisation des contextes"}),"\n",(0,a.jsx)(n.p,{children:"Les contextes permettent d'ex\xe9cuter des changesets sp\xe9cifiques selon l'environnement :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<changeSet id="004" author="dev" context="dev">\r\n    <insert tableName="user">\r\n        <column name="username" value="test_user"/>\r\n    </insert>\r\n</changeSet>\r\n\r\n<changeSet id="005" author="dev" context="prod">\r\n    <sql>GRANT SELECT ON user TO readonly_user;</sql>\r\n</changeSet>\n'})}),"\n",(0,a.jsx)(n.p,{children:"Configuration par profil :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"spring:\r\n  profiles:\r\n    active: dev\r\n  liquibase:\r\n    contexts: ${spring.profiles.active}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"tables-techniques",children:"Tables techniques"}),"\n",(0,a.jsx)(n.p,{children:"Liquibase cr\xe9e deux tables automatiquement :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"DATABASECHANGELOG"})," : Historique des changesets ex\xe9cut\xe9s"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"DATABASECHANGELOGLOCK"})," : Gestion des verrous concurrents"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"int\xe9gration-cicd-avec-spring-boot",children:"Int\xe9gration CI/CD avec Spring Boot"}),"\n",(0,a.jsx)(n.h3,{id:"validation-avant-d\xe9ploiement",children:"Validation avant d\xe9ploiement"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"@Component\r\npublic class LiquibaseValidator implements ApplicationRunner {\r\n    \r\n    @Autowired\r\n    private SpringLiquibase liquibase;\r\n    \r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        // Validation au d\xe9marrage\r\n        liquibase.afterPropertiesSet();\r\n    }\r\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"ex\xe9cution-conditionnelle",children:"Ex\xe9cution conditionnelle"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Configuration\r\npublic class LiquibaseConfig {\r\n    \r\n    @Value("${app.liquibase.enabled:true}")\r\n    private boolean liquibaseEnabled;\r\n    \r\n    @Bean\r\n    @ConditionalOnProperty(name = "app.liquibase.enabled", havingValue = "true")\r\n    public SpringLiquibase liquibase(DataSource dataSource) {\r\n        SpringLiquibase liquibase = new SpringLiquibase();\r\n        liquibase.setDataSource(dataSource);\r\n        liquibase.setChangeLog("classpath:db/changelog/db.changelog-master.xml");\r\n        return liquibase;\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"docker-avec-spring-boot",children:"Docker avec Spring Boot"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-dockerfile",children:'FROM eclipse-temurin:17-jre-alpine\r\nCOPY target/myapp.jar app.jar\r\n\r\n# Liquibase s\'ex\xe9cute au d\xe9marrage de l\'application\r\nENTRYPOINT ["java", "-jar", "/app.jar"]\n'})}),"\n",(0,a.jsx)(n.h3,{id:"gitlab-ci",children:"GitLab CI"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'stages:\r\n  - build\r\n  - migrate\r\n  - deploy\r\n\r\nvariables:\r\n  MAVEN_OPTS: "-Dmaven.repo.local=$CI_PROJECT_DIR/.m2/repository"\r\n\r\ncache:\r\n  paths:\r\n    - .m2/repository\r\n    - target/\r\n\r\nbuild:\r\n  stage: build\r\n  image: maven:3.9-eclipse-temurin-17\r\n  script:\r\n    - mvn clean package -DskipTests\r\n  artifacts:\r\n    paths:\r\n      - target/*.jar\r\n    expire_in: 1 hour\r\n\r\nmigrate:\r\n  stage: migrate\r\n  image: maven:3.9-eclipse-temurin-17\r\n  only:\r\n    - main\r\n    - develop\r\n  script:\r\n    - mvn liquibase:update\r\n  environment:\r\n    name: $CI_COMMIT_REF_NAME\r\n  variables:\r\n    SPRING_DATASOURCE_URL: $DB_URL\r\n    SPRING_DATASOURCE_USERNAME: $DB_USER\r\n    SPRING_DATASOURCE_PASSWORD: $DB_PASSWORD\r\n\r\ndeploy:\r\n  stage: deploy\r\n  image: docker:latest\r\n  services:\r\n    - docker:dind\r\n  only:\r\n    - main\r\n  script:\r\n    - docker build -t myapp:latest .\r\n    - docker push myapp:latest\n'})}),"\n",(0,a.jsx)(n.p,{children:"Configuration des variables dans GitLab : Settings > CI/CD > Variables"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"DB_URL"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"DB_USER"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"DB_PASSWORD"})," (masqu\xe9)"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"d\xe9pannage",children:"D\xe9pannage"}),"\n",(0,a.jsx)(n.h3,{id:"liquibase-ne-sex\xe9cute-pas",children:"Liquibase ne s'ex\xe9cute pas"}),"\n",(0,a.jsxs)(n.p,{children:["V\xe9rifier que la d\xe9pendance est pr\xe9sente et que ",(0,a.jsx)(n.code,{children:"spring.liquibase.enabled=true"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"erreur-de-checksum",children:"Erreur de checksum"}),"\n",(0,a.jsx)(n.p,{children:"Un changeset a \xe9t\xe9 modifi\xe9 apr\xe8s d\xe9ploiement. Options :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Ajouter ",(0,a.jsx)(n.code,{children:"<validCheckSum>ANY</validCheckSum>"})," (d\xe9conseill\xe9)"]}),"\n",(0,a.jsxs)(n.li,{children:["Utiliser ",(0,a.jsx)(n.code,{children:"mvn liquibase:clearCheckSums"})," en dev"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"conflits-de-lock",children:"Conflits de lock"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- Lib\xe9rer le verrou manuellement\r\nDELETE FROM DATABASECHANGELOGLOCK WHERE ID = 1;\n"})}),"\n",(0,a.jsx)(n.p,{children:"Liquibase avec Spring Boot offre une solution compl\xe8te et automatis\xe9e pour g\xe9rer l'\xe9volution des sch\xe9mas de base de donn\xe9es dans vos applications Java."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>t});var i=r(6540);const a={},s=i.createContext(a);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);