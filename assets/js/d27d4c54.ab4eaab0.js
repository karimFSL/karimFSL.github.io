"use strict";(globalThis.webpackChunkdocusaurus_poc=globalThis.webpackChunkdocusaurus_poc||[]).push([[8340],{7770:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>p});const o=JSON.parse('{"id":"devops/cicd/pipelines-java","title":"\u2615 Pipeline Java/Maven - GitLab CI","description":"Pipeline CI/CD complet pour applications Java Spring Boot avec Maven sur GitLab CI.","source":"@site/docs/devops/cicd/pipelines-java.md","sourceDirName":"devops/cicd","slug":"/devops/cicd/pipelines-java","permalink":"/docs/devops/cicd/pipelines-java","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/devops/cicd/pipelines-java.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docs","previous":{"title":"CI/CD","permalink":"/docs/devops/cicd/"},"next":{"title":"\ud83d\udd37 Pipeline Drupal - GitLab CI","permalink":"/docs/devops/cicd/pipelines-drupal"}}');var a=t(4848),r=t(8453);const i={sidebar_position:1},s="\u2615 Pipeline Java/Maven - GitLab CI",c={},p=[{value:"\ud83c\udfaf Architecture du Pipeline GitLab CI",id:"-architecture-du-pipeline-gitlab-ci",level:2},{value:"\ud83d\udccb Pipeline GitLab CI Complet",id:"-pipeline-gitlab-ci-complet",level:2},{value:"\ud83d\udce6 Configuration Maven (pom.xml)",id:"-configuration-maven-pomxml",level:2}];function l(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",mermaid:"mermaid",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"-pipeline-javamaven---gitlab-ci",children:"\u2615 Pipeline Java/Maven - GitLab CI"})}),"\n",(0,a.jsx)(e.p,{children:"Pipeline CI/CD complet pour applications Java Spring Boot avec Maven sur GitLab CI."}),"\n",(0,a.jsx)(e.h2,{id:"-architecture-du-pipeline-gitlab-ci",children:"\ud83c\udfaf Architecture du Pipeline GitLab CI"}),"\n",(0,a.jsx)(e.mermaid,{value:'graph LR\n    subgraph "Stages GitLab CI"\n        BUILD[\ud83d\udd28 Build]\n        TEST[\ud83e\uddea Test]\n        QUALITY[\ud83d\udcca Quality]\n        SECURITY[\ud83d\udd12 Security]\n        PACKAGE[\ud83d\udce6 Package]\n        DEPLOY_DEV[\ud83d\udd27 Deploy Dev]\n        DEPLOY_STAGING[\ud83c\udfad Deploy Staging]\n        DEPLOY_PROD[\ud83d\ude80 Deploy Prod]\n    end\n    \n    BUILD --\x3e TEST\n    TEST --\x3e QUALITY\n    QUALITY --\x3e SECURITY\n    SECURITY --\x3e PACKAGE\n    PACKAGE --\x3e DEPLOY_DEV\n    DEPLOY_DEV --\x3e DEPLOY_STAGING\n    DEPLOY_STAGING --\x3e DEPLOY_PROD\n    \n    subgraph "Outils"\n        MAVEN[\ud83d\udce6 Maven]\n        SONAR[\ud83d\udcca SonarQube]\n        TRIVY[\ud83d\udd0d Trivy]\n        DOCKER[\ud83d\udc33 Docker]\n        KUBECTL[\u2638\ufe0f kubectl]\n    end\n    \n    BUILD --\x3e MAVEN\n    QUALITY --\x3e SONAR\n    SECURITY --\x3e TRIVY\n    PACKAGE --\x3e DOCKER\n    DEPLOY_PROD --\x3e KUBECTL'}),"\n",(0,a.jsx)(e.h2,{id:"-pipeline-gitlab-ci-complet",children:"\ud83d\udccb Pipeline GitLab CI Complet"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",metastring:'title=".gitlab-ci.yml"',children:'# GitLab CI Pipeline pour Java/Maven\n# Version: 1.0\n# Description: Pipeline DevSecOps complet\n\nvariables:\n  # Maven\n  MAVEN_OPTS: "-Dmaven.repo.local=$CI_PROJECT_DIR/.m2/repository"\n  MAVEN_CLI_OPTS: "--batch-mode --errors --fail-at-end --show-version"\n  \n  # Docker\n  DOCKER_DRIVER: overlay2\n  DOCKER_TLS_CERTDIR: "/certs"\n  REGISTRY: $CI_REGISTRY\n  IMAGE_NAME: $CI_REGISTRY_IMAGE\n  \n  # Application\n  APP_NAME: "my-spring-app"\n  \n  # Kubernetes\n  KUBE_NAMESPACE_DEV: "dev"\n  KUBE_NAMESPACE_STAGING: "staging"\n  KUBE_NAMESPACE_PROD: "production"\n\n# Cache Maven dependencies\ncache:\n  key: ${CI_COMMIT_REF_SLUG}\n  paths:\n    - .m2/repository/\n    - target/\n\n# Stages\nstages:\n  - build\n  - test\n  - quality\n  - security\n  - package\n  - deploy-dev\n  - deploy-staging\n  - deploy-prod\n\n# Templates\n.maven_template: &maven_template\n  image: maven:3.9-eclipse-temurin-21\n  before_script:\n    - echo "Maven version:"\n    - mvn --version\n\n.docker_template: &docker_template\n  image: docker:24-dind\n  services:\n    - docker:24-dind\n  before_script:\n    - docker info\n    - echo "$CI_REGISTRY_PASSWORD" | docker login -u "$CI_REGISTRY_USER" --password-stdin $CI_REGISTRY\n\n.kubectl_template: &kubectl_template\n  image: bitnami/kubectl:latest\n  before_script:\n    - kubectl version --client\n    - kubectl config get-contexts\n\n# ============================================\n# Stage 1: BUILD\n# ============================================\nbuild:maven:\n  <<: *maven_template\n  stage: build\n  script:\n    - echo "\ud83d\udd28 Building with Maven..."\n    - mvn $MAVEN_CLI_OPTS clean compile\n    - echo "\u2705 Build successful"\n  artifacts:\n    paths:\n      - target/\n    expire_in: 1 hour\n  only:\n    - branches\n    - merge_requests\n\n# ============================================\n# Stage 2: TEST\n# ============================================\ntest:unit:\n  <<: *maven_template\n  stage: test\n  script:\n    - echo "\ud83e\uddea Running unit tests..."\n    - mvn $MAVEN_CLI_OPTS test\n    - echo "\ud83d\udcca Generating coverage report..."\n    - mvn jacoco:report\n  artifacts:\n    when: always\n    reports:\n      junit:\n        - target/surefire-reports/TEST-*.xml\n      coverage_report:\n        coverage_format: cobertura\n        path: target/site/jacoco/jacoco.xml\n    paths:\n      - target/surefire-reports/\n      - target/site/jacoco/\n    expire_in: 1 week\n  coverage: \'/Total.*?([0-9]{1,3})%/\'\n  only:\n    - branches\n    - merge_requests\n\ntest:integration:\n  <<: *maven_template\n  stage: test\n  services:\n    - name: postgres:15-alpine\n      alias: postgres\n    - name: redis:7-alpine\n      alias: redis\n  variables:\n    POSTGRES_DB: testdb\n    POSTGRES_USER: testuser\n    POSTGRES_PASSWORD: testpass\n    SPRING_DATASOURCE_URL: "jdbc:postgresql://postgres:5432/testdb"\n    SPRING_DATASOURCE_USERNAME: testuser\n    SPRING_DATASOURCE_PASSWORD: testpass\n    SPRING_REDIS_HOST: redis\n  script:\n    - echo "\ud83e\uddea Running integration tests..."\n    - mvn $MAVEN_CLI_OPTS verify -DskipUnitTests\n  artifacts:\n    when: always\n    reports:\n      junit:\n        - target/failsafe-reports/TEST-*.xml\n    paths:\n      - target/failsafe-reports/\n    expire_in: 1 week\n  only:\n    - branches\n    - merge_requests\n\n# ============================================\n# Stage 3: QUALITY\n# ============================================\nquality:checkstyle:\n  <<: *maven_template\n  stage: quality\n  script:\n    - echo "\ud83d\udccb Running Checkstyle..."\n    - mvn $MAVEN_CLI_OPTS checkstyle:check\n  artifacts:\n    when: always\n    paths:\n      - target/checkstyle-result.xml\n    expire_in: 1 week\n  allow_failure: false\n  only:\n    - branches\n    - merge_requests\n\nquality:spotbugs:\n  <<: *maven_template\n  stage: quality\n  script:\n    - echo "\ud83d\udc1b Running SpotBugs..."\n    - mvn $MAVEN_CLI_OPTS spotbugs:check\n  artifacts:\n    when: always\n    paths:\n      - target/spotbugsXml.xml\n    expire_in: 1 week\n  allow_failure: true\n  only:\n    - branches\n    - merge_requests\n\nquality:pmd:\n  <<: *maven_template\n  stage: quality\n  script:\n    - echo "\ud83d\udcca Running PMD..."\n    - mvn $MAVEN_CLI_OPTS pmd:check\n  artifacts:\n    when: always\n    paths:\n      - target/pmd.xml\n    expire_in: 1 week\n  allow_failure: true\n  only:\n    - branches\n    - merge_requests\n\nquality:sonarqube:\n  <<: *maven_template\n  stage: quality\n  script:\n    - echo "\ud83d\udcca Running SonarQube analysis..."\n    - mvn $MAVEN_CLI_OPTS sonar:sonar\n        -Dsonar.projectKey=$CI_PROJECT_PATH_SLUG\n        -Dsonar.projectName="$CI_PROJECT_NAME"\n        -Dsonar.host.url=$SONAR_HOST_URL\n        -Dsonar.login=$SONAR_TOKEN\n        -Dsonar.qualitygate.wait=true\n        -Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml\n  dependencies:\n    - test:unit\n  allow_failure: false\n  only:\n    - branches\n    - merge_requests\n  except:\n    - tags\n\n# ============================================\n# Stage 4: SECURITY\n# ============================================\nsecurity:dependency-check:\n  <<: *maven_template\n  stage: security\n  script:\n    - echo "\ud83d\udd0d Running OWASP Dependency Check..."\n    - mvn $MAVEN_CLI_OPTS org.owasp:dependency-check-maven:check\n        -DfailBuildOnCVSS=7\n        -DsuppressionFiles=dependency-check-suppression.xml\n  artifacts:\n    when: always\n    paths:\n      - target/dependency-check-report.html\n      - target/dependency-check-report.json\n    reports:\n      dependency_scanning: target/dependency-check-report.json\n    expire_in: 1 week\n  allow_failure: false\n  only:\n    - branches\n    - merge_requests\n\nsecurity:trivy-fs:\n  image: aquasec/trivy:latest\n  stage: security\n  script:\n    - echo "\ud83d\udd0d Scanning filesystem with Trivy..."\n    - trivy fs --security-checks vuln,secret,config\n        --severity CRITICAL,HIGH\n        --format json\n        --output trivy-fs-report.json\n        .\n    - trivy fs --security-checks vuln,secret,config\n        --severity CRITICAL,HIGH\n        --format template\n        --template "@/contrib/html.tpl"\n        --output trivy-fs-report.html\n        .\n    - echo "\ud83d\udcca Trivy filesystem scan complete"\n  artifacts:\n    when: always\n    paths:\n      - trivy-fs-report.json\n      - trivy-fs-report.html\n    reports:\n      container_scanning: trivy-fs-report.json\n    expire_in: 1 week\n  allow_failure: false\n  only:\n    - branches\n    - merge_requests\n\nsecurity:gitleaks:\n  image: zricethezav/gitleaks:latest\n  stage: security\n  script:\n    - echo "\ud83d\udd10 Scanning for secrets with Gitleaks..."\n    - gitleaks detect --source . --report-format json --report-path gitleaks-report.json --verbose\n  artifacts:\n    when: always\n    paths:\n      - gitleaks-report.json\n    expire_in: 1 week\n  allow_failure: false\n  only:\n    - branches\n    - merge_requests\n\nsecurity:sbom-generate:\n  <<: *maven_template\n  stage: security\n  script:\n    - echo "\ud83d\udccb Generating SBOM with CycloneDX..."\n    - mvn $MAVEN_CLI_OPTS cyclonedx:makeAggregateBom\n    - echo "\ud83d\udccb Generating SBOM with Syft..."\n    - curl -sSfL https://raw.githubusercontent.com/anchore/syft/main/install.sh | sh -s -- -b /usr/local/bin\n    - syft packages dir:. -o cyclonedx-json=sbom-syft.json\n    - syft packages dir:. -o spdx-json=sbom-spdx.json\n  artifacts:\n    paths:\n      - target/bom.json\n      - target/bom.xml\n      - sbom-syft.json\n      - sbom-spdx.json\n    expire_in: 1 month\n  only:\n    - branches\n    - merge_requests\n\nsecurity:sbom-scan:\n  image: anchore/grype:latest\n  stage: security\n  dependencies:\n    - security:sbom-generate\n  script:\n    - echo "\ud83d\udd0d Scanning SBOM with Grype..."\n    - grype sbom:sbom-syft.json -o json --file grype-report.json\n    - grype sbom:sbom-syft.json -o table\n    - |\n      CRITICAL=$(cat grype-report.json | jq \'[.matches[] | select(.vulnerability.severity=="Critical")] | length\')\n      HIGH=$(cat grype-report.json | jq \'[.matches[] | select(.vulnerability.severity=="High")] | length\')\n      echo "Critical: $CRITICAL, High: $HIGH"\n      if [ "$CRITICAL" -gt "0" ]; then\n        echo "\u274c Critical vulnerabilities found!"\n        exit 1\n      fi\n  artifacts:\n    when: always\n    paths:\n      - grype-report.json\n    expire_in: 1 week\n  allow_failure: false\n  only:\n    - branches\n    - merge_requests\n\n# ============================================\n# Stage 5: PACKAGE\n# ============================================\npackage:jar:\n  <<: *maven_template\n  stage: package\n  script:\n    - echo "\ud83d\udce6 Building JAR..."\n    - mvn $MAVEN_CLI_OPTS package -DskipTests\n    - echo "JAR file:"\n    - ls -lh target/*.jar\n  artifacts:\n    paths:\n      - target/*.jar\n    expire_in: 1 month\n  only:\n    - branches\n    - merge_requests\n    - tags\n\npackage:docker:\n  <<: *docker_template\n  stage: package\n  dependencies:\n    - package:jar\n  script:\n    - echo "\ud83d\udc33 Building Docker image..."\n    - |\n      if [ "$CI_COMMIT_TAG" != "" ]; then\n        TAG="$CI_COMMIT_TAG"\n      else\n        TAG="$CI_COMMIT_SHORT_SHA"\n      fi\n    - echo "Tag: $TAG"\n    - docker build -t $IMAGE_NAME:$TAG -t $IMAGE_NAME:latest .\n    - echo "\ud83d\udd0d Scanning image with Trivy..."\n    - docker run --rm -v /var/run/docker.sock:/var/run/docker.sock aquasec/trivy:latest image\n        --severity CRITICAL,HIGH\n        --exit-code 1\n        --no-progress\n        $IMAGE_NAME:$TAG\n    - echo "\u270d\ufe0f Signing image with Cosign..."\n    - apk add --no-cache cosign\n    - echo "$COSIGN_PRIVATE_KEY" > cosign.key\n    - cosign sign --key cosign.key --yes $IMAGE_NAME:$TAG\n    - rm cosign.key\n    - echo "\ud83d\udce4 Pushing image..."\n    - docker push $IMAGE_NAME:$TAG\n    - docker push $IMAGE_NAME:latest\n    - echo "\u2705 Docker image pushed: $IMAGE_NAME:$TAG"\n  only:\n    - branches\n    - merge_requests\n    - tags\n\n# ============================================\n# Stage 6: DEPLOY DEV\n# ============================================\ndeploy:dev:\n  <<: *kubectl_template\n  stage: deploy-dev\n  environment:\n    name: development\n    url: https://dev.example.com\n    on_stop: stop:dev\n  script:\n    - echo "\ud83d\ude80 Deploying to Development..."\n    - kubectl config use-context $KUBE_CONTEXT_DEV\n    - |\n      if [ "$CI_COMMIT_TAG" != "" ]; then\n        TAG="$CI_COMMIT_TAG"\n      else\n        TAG="$CI_COMMIT_SHORT_SHA"\n      fi\n    - kubectl set image deployment/$APP_NAME\n        $APP_NAME=$IMAGE_NAME:$TAG\n        -n $KUBE_NAMESPACE_DEV\n    - kubectl rollout status deployment/$APP_NAME -n $KUBE_NAMESPACE_DEV --timeout=5m\n    - echo "\u2705 Deployment to Dev successful"\n    - echo "\ud83e\uddea Running smoke tests..."\n    - sleep 10\n    - kubectl run curl-test --rm -i --restart=Never --image=curlimages/curl:latest\n        -n $KUBE_NAMESPACE_DEV\n        -- curl -f http://$APP_NAME:8080/actuator/health || exit 1\n  only:\n    - branches\n    - merge_requests\n  except:\n    - tags\n\nstop:dev:\n  <<: *kubectl_template\n  stage: deploy-dev\n  environment:\n    name: development\n    action: stop\n  script:\n    - echo "\ud83d\uded1 Stopping Development environment..."\n    - kubectl scale deployment/$APP_NAME --replicas=0 -n $KUBE_NAMESPACE_DEV\n  when: manual\n  only:\n    - branches\n\n# ============================================\n# Stage 7: DEPLOY STAGING\n# ============================================\ndeploy:staging:\n  <<: *kubectl_template\n  stage: deploy-staging\n  environment:\n    name: staging\n    url: https://staging.example.com\n  script:\n    - echo "\ud83d\ude80 Deploying to Staging..."\n    - kubectl config use-context $KUBE_CONTEXT_STAGING\n    - TAG="$CI_COMMIT_SHORT_SHA"\n    - kubectl set image deployment/$APP_NAME\n        $APP_NAME=$IMAGE_NAME:$TAG\n        -n $KUBE_NAMESPACE_STAGING\n    - kubectl rollout status deployment/$APP_NAME -n $KUBE_NAMESPACE_STAGING --timeout=5m\n    - echo "\u2705 Deployment to Staging successful"\n    - echo "\ud83e\uddea Running E2E tests..."\n    - sleep 20\n    # Ici, lancer vos tests E2E (Newman, Selenium, etc.)\n  only:\n    - main\n    - develop\n  when: manual\n\n# ============================================\n# Stage 8: DEPLOY PRODUCTION\n# ============================================\ndeploy:production:\n  <<: *kubectl_template\n  stage: deploy-prod\n  environment:\n    name: production\n    url: https://app.example.com\n  script:\n    - echo "\ud83d\ude80 Deploying to Production..."\n    - kubectl config use-context $KUBE_CONTEXT_PROD\n    - |\n      if [ "$CI_COMMIT_TAG" != "" ]; then\n        TAG="$CI_COMMIT_TAG"\n      else\n        echo "\u274c Production deployment requires a tag"\n        exit 1\n      fi\n    - echo "Deploying version: $TAG"\n    - kubectl set image deployment/$APP_NAME\n        $APP_NAME=$IMAGE_NAME:$TAG\n        -n $KUBE_NAMESPACE_PROD\n    - kubectl rollout status deployment/$APP_NAME -n $KUBE_NAMESPACE_PROD --timeout=10m\n    - echo "\u2705 Deployment to Production successful"\n    - echo "\ud83e\uddea Running smoke tests..."\n    - sleep 30\n    - kubectl run curl-test --rm -i --restart=Never --image=curlimages/curl:latest\n        -n $KUBE_NAMESPACE_PROD\n        -- curl -f http://$APP_NAME:8080/actuator/health || exit 1\n    - echo "\ud83d\udcca Creating GitLab release..."\n    - |\n      curl --request POST --header "PRIVATE-TOKEN: $CI_JOB_TOKEN"\n        "$CI_API_V4_URL/projects/$CI_PROJECT_ID/releases"\n        --form "name=Release $TAG"\n        --form "tag_name=$TAG"\n        --form "description=Production release $TAG"\n  only:\n    - tags\n  when: manual\n\n# ============================================\n# Scheduled Jobs\n# ============================================\nsecurity:scheduled-scan:\n  <<: *maven_template\n  stage: security\n  script:\n    - echo "\ud83d\udd0d Running scheduled security scan..."\n    - mvn $MAVEN_CLI_OPTS org.owasp:dependency-check-maven:check\n  artifacts:\n    when: always\n    paths:\n      - target/dependency-check-report.html\n    expire_in: 1 month\n  only:\n    - schedules\n'})}),"\n",(0,a.jsx)(e.h2,{id:"-configuration-maven-pomxml",children:"\ud83d\udce6 Configuration Maven (pom.xml)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",metastring:'title="pom.xml"',children:'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0\n         https://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n    \n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>3.2.0</version>\n        <relativePath/>\n    </parent>\n    \n    <groupId>com.example</groupId>\n    <artifactId>my-spring-app</artifactId>\n    <version>1.0.0-SNAPSHOT</version>\n    <name>My Spring Boot Application</name>\n    <description>Application Java avec pipeline GitLab CI</description>\n    \n    <properties>\n        <java.version>21</java.version>\n        <maven.compiler.source>21</maven.compiler.source>\n        <maven.compiler.target>21</maven.compiler.target>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        \n        \x3c!-- Versions --\x3e\n        <spring-boot.version>3.2.0</spring-boot.version>\n        <jacoco.version>0.8.11</jacoco.version>\n        <checkstyle.version>10.12.5</checkstyle.version>\n        <spotbugs.version>4.8.1</spotbugs.version>\n        <pmd.version>6.55.0</pmd.version>\n        <sonar.version>3.10.0.2594</sonar.version>\n        <dependency-check.version>9.0.7</dependency-check.version>\n        <cyclonedx.version>2.7.11</cyclonedx.version>\n        \n        \x3c!-- SonarQube --\x3e\n        <sonar.java.coveragePlugin>jacoco</sonar.java.coveragePlugin>\n        <sonar.dynamicAnalysis>reuseReports</sonar.dynamicAnalysis>\n        <sonar.coverage.jacoco.xmlReportPaths>\n            ${project.build.directory}/site/jacoco/jacoco.xml\n        </sonar.coverage.jacoco.xmlReportPaths>\n        \n        \x3c!-- Quality Gates --\x3e\n        <jacoco.minimum.coverage>0.80</jacoco.minimum.coverage>\n    </properties>\n    \n    <dependencies>\n        \x3c!-- Spring Boot Starters --\x3e\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n        \n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-data-jpa</artifactId>\n        </dependency>\n        \n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-security</artifactId>\n        </dependency>\n        \n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-actuator</artifactId>\n        </dependency>\n        \n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-validation</artifactId>\n        </dependency>\n        \n        \x3c!-- Database --\x3e\n        <dependency>\n            <groupId>org.postgresql</groupId>\n            <artifactId>postgresql</artifactId>\n            <scope>runtime</scope>\n        </dependency>\n        \n        \x3c!-- Cache --\x3e\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-data-redis</artifactId>\n        </dependency>\n        \n        \x3c!-- Monitoring --\x3e\n        <dependency>\n            <groupId>io.micrometer</groupId>\n            <artifactId>micrometer-registry-prometheus</artifactId>\n        </dependency>\n        \n        \x3c!-- Test --\x3e\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n        \n        <dependency>\n            <groupId>org.springframework.security</groupId>\n            <artifactId>spring-security-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n    \n    <build>\n        <plugins>\n            \x3c!-- Spring Boot Plugin --\x3e\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n            \n            \x3c!-- JaCoCo Coverage --\x3e\n            <plugin>\n                <groupId>org.jacoco</groupId>\n                <artifactId>jacoco-maven-plugin</artifactId>\n                <version>${jacoco.version}</version>\n                <executions>\n                    <execution>\n                        <id>prepare-agent</id>\n                        <goals>\n                            <goal>prepare-agent</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>report</id>\n                        <phase>test</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>check</id>\n                        <goals>\n                            <goal>check</goal>\n                        </goals>\n                        <configuration>\n                            <rules>\n                                <rule>\n                                    <element>BUNDLE</element>\n                                    <limits>\n                                        <limit>\n                                            <counter>INSTRUCTION</counter>\n                                            <value>COVEREDRATIO</value>\n                                            <minimum>${jacoco.minimum.coverage}</minimum>\n                                        </limit>\n                                        <limit>\n                                            <counter>BRANCH</counter>\n                                            <value>COVEREDRATIO</value>\n                                            <minimum>${jacoco.minimum.coverage}</minimum>\n                                        </limit>\n                                    </limits>\n                                </rule>\n                            </rules>\n                        </configuration>\n                    </execution>\n                </executions>\n            </plugin>\n            \n            \x3c!-- Checkstyle --\x3e\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-checkstyle-plugin</artifactId>\n                <version>3.3.1</version>\n                <configuration>\n                    <configLocation>google_checks.xml</configLocation>\n                    <consoleOutput>true</consoleOutput>\n                    <failsOnError>true</failsOnError>\n                    <violationSeverity>warning</violationSeverity>\n                </configuration>\n                <executions>\n                    <execution>\n                        <id>validate</id>\n                        <phase>validate</phase>\n                        <goals>\n                            <goal>check</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n            \n            \x3c!-- SpotBugs --\x3e\n            <plugin>\n                <groupId>com.github.spotbugs</groupId>\n                <artifactId>spotbugs-maven-plugin</artifactId>\n                <version>4.8.1.0</version>\n                <configuration>\n                    <effort>Max</effort>\n                    <threshold>Low</threshold>\n                    <xmlOutput>true</xmlOutput>\n                </configuration>\n                <executions>\n                    <execution>\n                        <id>analyze</id>\n                        <phase>verify</phase>\n                        <goals>\n                            <goal>check</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n            \n            \x3c!-- PMD --\x3e\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-pmd-plugin</artifactId>\n                <version>3.21.2</version>\n                <configuration>\n                    <rulesets>\n                        <ruleset>/rulesets/java/quickstart.xml</ruleset>\n                    </rulesets>\n                    <printFailingErrors>true</printFailingErrors>\n                </configuration>\n                <executions>\n                    <execution>\n                        <id>analyze</id>\n                        <phase>verify</phase>\n                        <goals>\n                            <goal>check</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n            \n            \x3c!-- SonarQube --\x3e\n            <plugin>\n                <groupId>org.sonarsource.scanner.maven</groupId>\n                <artifactId>sonar-maven-plugin</artifactId>\n                <version>${sonar.version}</version>\n            </plugin>\n            \n            \x3c!-- OWASP Dependency Check --\x3e\n            <plugin>\n                <groupId>org.owasp</groupId>\n                <artifactId>dependency-check-maven</artifactId>\n                <version>${dependency-check.version}</version>\n                <configuration>\n                    <format>ALL</format>\n                    <failBuildOnCVSS>7</failBuildOnCVSS>\n                    <suppressionFiles>\n                        <suppressionFile>dependency-check-suppression.xml</suppressionFile>\n                    </suppressionFiles>\n                </configuration>\n                <executions>\n                    <execution>\n                        <goals>\n                            <goal>check</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n            \n            \x3c!-- CycloneDX SBOM --\x3e\n            <plugin>\n                <groupId>org.cyclonedx</groupId>\n                <artifactId>cyclonedx-maven-plugin</artifactId>\n                <version>${cyclonedx.version}</version>\n                <executions>\n                    <execution>\n                        <phase>package</phase>\n                        <goals>\n                            <goal>makeAggregateBom</goal>\n                        </goals>\n                    </execution>\n                </executions>\n                <configuration>\n                    <projectType>application</projectType>\n                    <schemaVersion>1.5</schemaVersion>\n                    <includeBomSerialNumber>true</includeBomSerialNumber>\n                    <includeCompileScope>true</includeCompileScope>\n                    <includeProvidedScope>true</includeProvidedScope>\n                    <includeRuntimeScope>true</includeRuntimeScope>\n                    <includeSystemScope>true</includeSystemScope>\n                    <includeTestScope>false</includeTestScope>\n                    <includeLicenseText>false</includeLicenseText>\n                    <outputFormat>all</outputFormat>\n                </configuration>\n            </plugin>\n            \n            \x3c!-- Failsafe for integration tests --\x3e\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-failsafe-plugin</artifactId>\n                <executions>\n                    <execution>\n                        <goals>\n                            <goal>integration-test</goal>\n                            <goal>verify</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n'})})]})}function u(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(l,{...n})}):l(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>s});var o=t(6540);const a={},r=o.createContext(a);function i(n){const e=o.useContext(r);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:i(n.components),o.createElement(r.Provider,{value:e},n.children)}}}]);