"use strict";(globalThis.webpackChunkdocusaurus_poc=globalThis.webpackChunkdocusaurus_poc||[]).push([[1342],{6388:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"security/sbom","title":"\ud83d\udccb SBOM - Software Bill of Materials","description":"Le SBOM (Software Bill of Materials) est un inventaire complet des composants logiciels utilis\xe9s dans une application. C\'est essentiel pour la s\xe9curit\xe9, la conformit\xe9 et la tra\xe7abilit\xe9.","source":"@site/docs/security/sbom.md","sourceDirName":"security","slug":"/security/sbom","permalink":"/docs/security/sbom","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/security/sbom.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docs","previous":{"title":"\ud83d\udd0d Trivy - Scan de vuln\xe9rabilit\xe9s","permalink":"/docs/security/trivy"},"next":{"title":"OAuth 2.0","permalink":"/docs/security/authentification-autorisation/oauth"}}');var o=s(4848),a=s(8453);const t={sidebar_position:3},r="\ud83d\udccb SBOM - Software Bill of Materials",l={},c=[{value:"\ud83c\udfaf Pourquoi un SBOM ?",id:"-pourquoi-un-sbom-",level:2},{value:"\ud83d\udcca Formats SBOM",id:"-formats-sbom",level:2},{value:"CycloneDX (Recommand\xe9)",id:"cyclonedx-recommand\xe9",level:3},{value:"SPDX",id:"spdx",level:3},{value:"\ud83d\udd27 Outils de g\xe9n\xe9ration",id:"-outils-de-g\xe9n\xe9ration",level:2},{value:"1. Syft (Recommand\xe9)",id:"1-syft-recommand\xe9",level:3},{value:"2. CycloneDX Maven Plugin",id:"2-cyclonedx-maven-plugin",level:3},{value:"3. CycloneDX Composer Plugin (Drupal/PHP)",id:"3-cyclonedx-composer-plugin-drupalphp",level:3},{value:"4. npm (JavaScript/Node.js)",id:"4-npm-javascriptnodejs",level:3},{value:"\ud83d\udd04 Int\xe9gration CI/CD",id:"-int\xe9gration-cicd",level:2},{value:"GitHub Actions - Java",id:"github-actions---java",level:3},{value:"GitHub Actions - Drupal",id:"github-actions---drupal",level:3},{value:"\ud83d\udd0d Analyse du SBOM",id:"-analyse-du-sbom",level:2},{value:"Grype (Scan de vuln\xe9rabilit\xe9s)",id:"grype-scan-de-vuln\xe9rabilit\xe9s",level:3},{value:"Dependency Track",id:"dependency-track",level:3},{value:"\ud83d\udcca Visualisation et Reporting",id:"-visualisation-et-reporting",level:2},{value:"SBOM en HTML",id:"sbom-en-html",level:3},{value:"Dashboard Grafana",id:"dashboard-grafana",level:3},{value:"\ud83d\udd10 Signature et v\xe9rification",id:"-signature-et-v\xe9rification",level:2},{value:"Cosign",id:"cosign",level:3},{value:"Sigstore (keyless signing)",id:"sigstore-keyless-signing",level:3},{value:"\ud83d\udccb SBOM Compliance",id:"-sbom-compliance",level:2},{value:"Executive Order 14028 (US)",id:"executive-order-14028-us",level:3},{value:"NTIA Minimum Elements",id:"ntia-minimum-elements",level:3},{value:"\ud83d\udd04 Automatisation compl\xe8te",id:"-automatisation-compl\xe8te",level:2},{value:"Makefile",id:"makefile",level:3},{value:"\ud83d\udcc8 M\xe9triques et KPIs",id:"-m\xe9triques-et-kpis",level:2},{value:"M\xe9triques importantes",id:"m\xe9triques-importantes",level:3},{value:"Alertes",id:"alertes",level:3},{value:"\ud83c\udfaf Meilleures pratiques",id:"-meilleures-pratiques",level:2},{value:"1. G\xe9n\xe9ration automatique",id:"1-g\xe9n\xe9ration-automatique",level:3},{value:"2. Signature syst\xe9matique",id:"2-signature-syst\xe9matique",level:3},{value:"3. Storage centralis\xe9",id:"3-storage-centralis\xe9",level:3},{value:"4. Analyse continue",id:"4-analyse-continue",level:3},{value:"5. Tra\xe7abilit\xe9",id:"5-tra\xe7abilit\xe9",level:3},{value:"\ud83c\udd98 Troubleshooting",id:"-troubleshooting",level:2},{value:"SBOM incomplet",id:"sbom-incomplet",level:3},{value:"Erreur de format",id:"erreur-de-format",level:3},{value:"\ud83d\udcda Ressources",id:"-ressources",level:2},{value:"\ud83c\udf93 Exemple complet - Pipeline SBOM",id:"-exemple-complet---pipeline-sbom",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"-sbom---software-bill-of-materials",children:"\ud83d\udccb SBOM - Software Bill of Materials"})}),"\n",(0,o.jsxs)(e.p,{children:["Le ",(0,o.jsx)(e.strong,{children:"SBOM"})," (Software Bill of Materials) est un inventaire complet des composants logiciels utilis\xe9s dans une application. C'est essentiel pour la s\xe9curit\xe9, la conformit\xe9 et la tra\xe7abilit\xe9."]}),"\n",(0,o.jsx)(e.h2,{id:"-pourquoi-un-sbom-",children:"\ud83c\udfaf Pourquoi un SBOM ?"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\u2705 ",(0,o.jsx)(e.strong,{children:"Tra\xe7abilit\xe9"})," : Savoir exactement ce qui est dans vos applications"]}),"\n",(0,o.jsxs)(e.li,{children:["\u2705 ",(0,o.jsx)(e.strong,{children:"S\xe9curit\xe9"})," : Identifier rapidement les vuln\xe9rabilit\xe9s (ex: Log4Shell)"]}),"\n",(0,o.jsxs)(e.li,{children:["\u2705 ",(0,o.jsx)(e.strong,{children:"Conformit\xe9"})," : R\xe9pondre aux exigences r\xe9glementaires (Executive Order 14028)"]}),"\n",(0,o.jsxs)(e.li,{children:["\u2705 ",(0,o.jsx)(e.strong,{children:"Supply Chain Security"})," : Prot\xe9ger contre les attaques de la cha\xeene d'approvisionnement"]}),"\n",(0,o.jsxs)(e.li,{children:["\u2705 ",(0,o.jsx)(e.strong,{children:"Licence Compliance"})," : V\xe9rifier les licences des d\xe9pendances"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"-formats-sbom",children:"\ud83d\udcca Formats SBOM"}),"\n",(0,o.jsx)(e.h3,{id:"cyclonedx-recommand\xe9",children:"CycloneDX (Recommand\xe9)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-json",children:'{\n  "bomFormat": "CycloneDX",\n  "specVersion": "1.5",\n  "serialNumber": "urn:uuid:...",\n  "version": 1,\n  "metadata": {\n    "timestamp": "2024-01-01T00:00:00Z",\n    "component": {\n      "type": "application",\n      "name": "mon-app",\n      "version": "1.0.0"\n    }\n  },\n  "components": [\n    {\n      "type": "library",\n      "name": "spring-boot-starter-web",\n      "version": "3.2.0",\n      "purl": "pkg:maven/org.springframework.boot/spring-boot-starter-web@3.2.0"\n    }\n  ]\n}\n'})}),"\n",(0,o.jsx)(e.h3,{id:"spdx",children:"SPDX"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-json",children:'{\n  "spdxVersion": "SPDX-2.3",\n  "dataLicense": "CC0-1.0",\n  "SPDXID": "SPDXRef-DOCUMENT",\n  "name": "mon-app",\n  "packages": [\n    {\n      "SPDXID": "SPDXRef-Package-spring-boot",\n      "name": "spring-boot-starter-web",\n      "versionInfo": "3.2.0"\n    }\n  ]\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"-outils-de-g\xe9n\xe9ration",children:"\ud83d\udd27 Outils de g\xe9n\xe9ration"}),"\n",(0,o.jsx)(e.h3,{id:"1-syft-recommand\xe9",children:"1. Syft (Recommand\xe9)"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Installation"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Linux\ncurl -sSfL https://raw.githubusercontent.com/anchore/syft/main/install.sh | sh -s -- -b /usr/local/bin\n\n# macOS\nbrew install syft\n\n# Docker\ndocker pull anchore/syft:latest\n"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Utilisation"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# G\xe9n\xe9rer SBOM d'une image Docker\nsyft mon-app:latest -o cyclonedx-json > sbom.json\n\n# G\xe9n\xe9rer SBOM d'un r\xe9pertoire\nsyft dir:. -o cyclonedx-json > sbom.json\n\n# G\xe9n\xe9rer SBOM d'un JAR\nsyft target/mon-app.jar -o cyclonedx-json > sbom.json\n\n# SPDX format\nsyft mon-app:latest -o spdx-json > sbom.spdx.json\n\n# Multiple formats\nsyft mon-app:latest -o cyclonedx-json=sbom.cdx.json -o spdx-json=sbom.spdx.json\n"})}),"\n",(0,o.jsx)(e.h3,{id:"2-cyclonedx-maven-plugin",children:"2. CycloneDX Maven Plugin"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",metastring:'title="pom.xml"',children:"<project>\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.cyclonedx</groupId>\n                <artifactId>cyclonedx-maven-plugin</artifactId>\n                <version>2.7.11</version>\n                <executions>\n                    <execution>\n                        <phase>package</phase>\n                        <goals>\n                            <goal>makeAggregateBom</goal>\n                        </goals>\n                    </execution>\n                </executions>\n                <configuration>\n                    <projectType>application</projectType>\n                    <schemaVersion>1.5</schemaVersion>\n                    <includeBomSerialNumber>true</includeBomSerialNumber>\n                    <includeCompileScope>true</includeCompileScope>\n                    <includeProvidedScope>true</includeProvidedScope>\n                    <includeRuntimeScope>true</includeRuntimeScope>\n                    <includeSystemScope>true</includeSystemScope>\n                    <includeTestScope>false</includeTestScope>\n                    <includeLicenseText>false</includeLicenseText>\n                    <outputFormat>all</outputFormat>\n                    <outputName>bom</outputName>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"G\xe9n\xe9ration"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"./mvnw cyclonedx:makeAggregateBom\n# G\xe9n\xe8re target/bom.json et target/bom.xml\n"})}),"\n",(0,o.jsx)(e.h3,{id:"3-cyclonedx-composer-plugin-drupalphp",children:"3. CycloneDX Composer Plugin (Drupal/PHP)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-json",metastring:'title="composer.json"',children:'{\n    "require-dev": {\n        "cyclonedx/cyclonedx-php-composer": "^4.1"\n    },\n    "scripts": {\n        "generate-sbom": "cyclonedx-php-composer make-sbom --output-format=JSON --output-file=sbom.json"\n    }\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"G\xe9n\xe9ration"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"composer generate-sbom\n"})}),"\n",(0,o.jsx)(e.h3,{id:"4-npm-javascriptnodejs",children:"4. npm (JavaScript/Node.js)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# CycloneDX npm\nnpm install -g @cyclonedx/cyclonedx-npm\n\n# G\xe9n\xe9rer SBOM\ncyclonedx-npm --output-file sbom.json\n"})}),"\n",(0,o.jsx)(e.h2,{id:"-int\xe9gration-cicd",children:"\ud83d\udd04 Int\xe9gration CI/CD"}),"\n",(0,o.jsx)(e.h3,{id:"github-actions---java",children:"GitHub Actions - Java"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",metastring:'title=".github/workflows/sbom-java.yml"',children:'name: Generate and Sign SBOM\n\non:\n  push:\n    branches: [main]\n  release:\n    types: [published]\n\njobs:\n  generate-sbom:\n    runs-on: ubuntu-latest\n    \n    permissions:\n      contents: write\n      packages: write\n    \n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n      \n      - name: Setup Java\n        uses: actions/setup-java@v4\n        with:\n          java-version: \'17\'\n          distribution: \'temurin\'\n      \n      - name: Build application\n        run: ./mvnw clean package -DskipTests\n      \n      - name: Generate SBOM with CycloneDX Maven\n        run: ./mvnw cyclonedx:makeAggregateBom\n      \n      - name: Generate SBOM with Syft\n        uses: anchore/sbom-action@v0\n        with:\n          path: ./target/*.jar\n          format: cyclonedx-json\n          output-file: sbom-syft.json\n      \n      - name: Merge SBOMs (optional)\n        run: |\n          # Merge multiple SBOMs if needed\n          cyclonedx merge --input-files target/bom.json sbom-syft.json --output-file sbom-merged.json\n      \n      - name: Sign SBOM with Cosign\n        run: |\n          # Install cosign\n          curl -LO https://github.com/sigstore/cosign/releases/download/v2.2.0/cosign-linux-amd64\n          chmod +x cosign-linux-amd64\n          \n          # Sign SBOM\n          ./cosign-linux-amd64 sign-blob \\\n            --key env://COSIGN_PRIVATE_KEY \\\n            target/bom.json \\\n            --output-signature sbom.sig \\\n            --output-certificate sbom.crt\n        env:\n          COSIGN_PRIVATE_KEY: ${{ secrets.COSIGN_PRIVATE_KEY }}\n          COSIGN_PASSWORD: ${{ secrets.COSIGN_PASSWORD }}\n      \n      - name: Upload SBOM to GitHub Release\n        if: github.event_name == \'release\'\n        uses: softprops/action-gh-release@v1\n        with:\n          files: |\n            target/bom.json\n            target/bom.xml\n            sbom.sig\n            sbom.crt\n      \n      - name: Upload SBOM as artifact\n        uses: actions/upload-artifact@v4\n        with:\n          name: sbom\n          path: |\n            target/bom.json\n            target/bom.xml\n            sbom.sig\n      \n      - name: Scan SBOM with Grype\n        uses: anchore/scan-action@v3\n        with:\n          sbom: target/bom.json\n          fail-build: true\n          severity-cutoff: high\n      \n      - name: Push SBOM to Dependency Track\n        run: |\n          curl -X "POST" "${{ secrets.DEPENDENCY_TRACK_URL }}/api/v1/bom" \\\n            -H "Content-Type: multipart/form-data" \\\n            -H "X-Api-Key: ${{ secrets.DEPENDENCY_TRACK_API_KEY }}" \\\n            -F "project=${{ secrets.DEPENDENCY_TRACK_PROJECT_UUID }}" \\\n            -F "bom=@target/bom.json"\n'})}),"\n",(0,o.jsx)(e.h3,{id:"github-actions---drupal",children:"GitHub Actions - Drupal"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",metastring:'title=".github/workflows/sbom-drupal.yml"',children:"name: Generate SBOM - Drupal\n\non: [push]\n\njobs:\n  generate-sbom:\n    runs-on: ubuntu-latest\n    \n    steps:\n      - uses: actions/checkout@v4\n      \n      - name: Setup PHP\n        uses: shivammathur/setup-php@v2\n        with:\n          php-version: '8.2'\n          tools: composer:v2\n      \n      - name: Install dependencies\n        run: composer install --no-dev\n      \n      - name: Install CycloneDX\n        run: composer require --dev cyclonedx/cyclonedx-php-composer\n      \n      - name: Generate SBOM\n        run: |\n          vendor/bin/cyclonedx-php-composer make-sbom \\\n            --output-format=JSON \\\n            --output-file=sbom-drupal.json\n      \n      - name: Upload SBOM\n        uses: actions/upload-artifact@v4\n        with:\n          name: sbom-drupal\n          path: sbom-drupal.json\n"})}),"\n",(0,o.jsx)(e.h2,{id:"-analyse-du-sbom",children:"\ud83d\udd0d Analyse du SBOM"}),"\n",(0,o.jsx)(e.h3,{id:"grype-scan-de-vuln\xe9rabilit\xe9s",children:"Grype (Scan de vuln\xe9rabilit\xe9s)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Scanner un SBOM\ngrype sbom:sbom.json\n\n# Format JSON\ngrype sbom:sbom.json -o json > vulnerabilities.json\n\n# S\xe9v\xe9rit\xe9 minimale\ngrype sbom:sbom.json --fail-on high\n"})}),"\n",(0,o.jsx)(e.h3,{id:"dependency-track",children:"Dependency Track"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Dependency Track"})," est une plateforme de gestion de risques de la cha\xeene d'approvisionnement logicielle."]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Installation Docker\ndocker-compose -f dependency-track/docker-compose.yml up -d\n"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",metastring:'title="dependency-track/docker-compose.yml"',children:"version: '3.7'\n\nservices:\n  dtrack-apiserver:\n    image: dependencytrack/apiserver:latest\n    environment:\n      - ALPINE_DATABASE_MODE=external\n      - ALPINE_DATABASE_URL=jdbc:postgresql://postgres:5432/dtrack\n      - ALPINE_DATABASE_DRIVER=org.postgresql.Driver\n      - ALPINE_DATABASE_USERNAME=dtrack\n      - ALPINE_DATABASE_PASSWORD=changeme\n    ports:\n      - '8081:8080'\n    volumes:\n      - 'dependency-track:/data'\n    depends_on:\n      - postgres\n  \n  dtrack-frontend:\n    image: dependencytrack/frontend:latest\n    environment:\n      - API_BASE_URL=http://dtrack-apiserver:8080\n    ports:\n      - '8080:8080'\n    depends_on:\n      - dtrack-apiserver\n  \n  postgres:\n    image: postgres:15-alpine\n    environment:\n      - POSTGRES_DB=dtrack\n      - POSTGRES_USER=dtrack\n      - POSTGRES_PASSWORD=changeme\n    volumes:\n      - 'postgres-data:/var/lib/postgresql/data'\n\nvolumes:\n  dependency-track:\n  postgres-data:\n"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Upload automatique"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:'# API pour upload SBOM\ncurl -X "POST" "http://localhost:8081/api/v1/bom" \\\n  -H "Content-Type: multipart/form-data" \\\n  -H "X-Api-Key: YOUR_API_KEY" \\\n  -F "project=PROJECT_UUID" \\\n  -F "bom=@sbom.json"\n'})}),"\n",(0,o.jsx)(e.h2,{id:"-visualisation-et-reporting",children:"\ud83d\udcca Visualisation et Reporting"}),"\n",(0,o.jsx)(e.h3,{id:"sbom-en-html",children:"SBOM en HTML"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Convertir SBOM en HTML lisible\ncyclonedx-cli convert --input-file sbom.json --output-file sbom.html --output-format html\n"})}),"\n",(0,o.jsx)(e.h3,{id:"dashboard-grafana",children:"Dashboard Grafana"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-prometheus",children:'# M\xe9triques Dependency Track\ndependency_track_vulnerabilities{severity="CRITICAL"}\ndependency_track_components_total\ndependency_track_projects_total\n'})}),"\n",(0,o.jsx)(e.h2,{id:"-signature-et-v\xe9rification",children:"\ud83d\udd10 Signature et v\xe9rification"}),"\n",(0,o.jsx)(e.h3,{id:"cosign",children:"Cosign"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Signer un SBOM\ncosign sign-blob \\\n  --key cosign.key \\\n  sbom.json \\\n  --output-signature sbom.sig\n\n# V\xe9rifier la signature\ncosign verify-blob \\\n  --key cosign.pub \\\n  --signature sbom.sig \\\n  sbom.json\n"})}),"\n",(0,o.jsx)(e.h3,{id:"sigstore-keyless-signing",children:"Sigstore (keyless signing)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Signature sans cl\xe9 priv\xe9e\ncosign sign-blob sbom.json --bundle sbom.bundle\n\n# V\xe9rification\ncosign verify-blob \\\n  --bundle sbom.bundle \\\n  --certificate-identity=user@example.com \\\n  --certificate-oidc-issuer=https://accounts.google.com \\\n  sbom.json\n"})}),"\n",(0,o.jsx)(e.h2,{id:"-sbom-compliance",children:"\ud83d\udccb SBOM Compliance"}),"\n",(0,o.jsx)(e.h3,{id:"executive-order-14028-us",children:"Executive Order 14028 (US)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-json",children:'{\n  "required_fields": [\n    "Supplier Name",\n    "Component Name",\n    "Version",\n    "Dependencies",\n    "Author",\n    "Timestamp"\n  ]\n}\n'})}),"\n",(0,o.jsx)(e.h3,{id:"ntia-minimum-elements",children:"NTIA Minimum Elements"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-json",children:'{\n  "minimum_elements": {\n    "author": "Organization Name",\n    "timestamp": "2024-01-01T00:00:00Z",\n    "component": {\n      "name": "component-name",\n      "version": "1.0.0",\n      "unique_identifier": "pkg:maven/...",\n      "relationships": []\n    }\n  }\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"-automatisation-compl\xe8te",children:"\ud83d\udd04 Automatisation compl\xe8te"}),"\n",(0,o.jsx)(e.h3,{id:"makefile",children:"Makefile"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-makefile",metastring:'title="Makefile"',children:'.PHONY: sbom sbom-sign sbom-upload sbom-scan\n\nsbom:\n\t@echo "Generating SBOM..."\n\tsyft . -o cyclonedx-json=sbom.json\n\tcyclonedx-cli validate --input-file sbom.json\n\nsbom-sign:\n\t@echo "Signing SBOM..."\n\tcosign sign-blob --key cosign.key sbom.json --output-signature sbom.sig\n\nsbom-upload:\n\t@echo "Uploading SBOM to Dependency Track..."\n\tcurl -X POST "$(DEPENDENCY_TRACK_URL)/api/v1/bom" \\\n\t\t-H "X-Api-Key: $(DEPENDENCY_TRACK_API_KEY)" \\\n\t\t-F "project=$(PROJECT_UUID)" \\\n\t\t-F "bom=@sbom.json"\n\nsbom-scan:\n\t@echo "Scanning SBOM for vulnerabilities..."\n\tgrype sbom:sbom.json --fail-on high\n\nall: sbom sbom-sign sbom-scan sbom-upload\n'})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Utilisation"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"make all\n"})}),"\n",(0,o.jsx)(e.h2,{id:"-m\xe9triques-et-kpis",children:"\ud83d\udcc8 M\xe9triques et KPIs"}),"\n",(0,o.jsx)(e.h3,{id:"m\xe9triques-importantes",children:"M\xe9triques importantes"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"- Total components: 350\n- Direct dependencies: 50\n- Transitive dependencies: 300\n- Unique licenses: 15\n- Critical vulnerabilities: 0\n- High vulnerabilities: 2\n- SBOM freshness: < 24h\n"})}),"\n",(0,o.jsx)(e.h3,{id:"alertes",children:"Alertes"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"alerts:\n  - name: CriticalVulnerability\n    condition: critical_vulns > 0\n    action: Block deployment\n  \n  - name: OutdatedSBOM\n    condition: sbom_age > 7d\n    action: Trigger regeneration\n  \n  - name: UnknownLicense\n    condition: unknown_licenses > 0\n    action: Alert legal team\n"})}),"\n",(0,o.jsx)(e.h2,{id:"-meilleures-pratiques",children:"\ud83c\udfaf Meilleures pratiques"}),"\n",(0,o.jsx)(e.h3,{id:"1-g\xe9n\xe9ration-automatique",children:"1. G\xe9n\xe9ration automatique"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"# \xc0 chaque build\non: [push, release]\n"})}),"\n",(0,o.jsx)(e.h3,{id:"2-signature-syst\xe9matique",children:"2. Signature syst\xe9matique"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Toujours signer les SBOMs\ncosign sign-blob sbom.json\n"})}),"\n",(0,o.jsx)(e.h3,{id:"3-storage-centralis\xe9",children:"3. Storage centralis\xe9"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"# Dependency Track ou Artifactory\ncentralized_sbom_storage: true\n"})}),"\n",(0,o.jsx)(e.h3,{id:"4-analyse-continue",children:"4. Analyse continue"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Scan quotidien\ncron: '0 2 * * *'\n"})}),"\n",(0,o.jsx)(e.h3,{id:"5-tra\xe7abilit\xe9",children:"5. Tra\xe7abilit\xe9"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-json",children:'{\n  "metadata": {\n    "component": {\n      "bom-ref": "pkg:maven/...",\n      "supplier": "Organization",\n      "author": "Team Name",\n      "timestamp": "2024-01-01T00:00:00Z"\n    }\n  }\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"-troubleshooting",children:"\ud83c\udd98 Troubleshooting"}),"\n",(0,o.jsx)(e.h3,{id:"sbom-incomplet",children:"SBOM incomplet"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# V\xe9rifier avec CycloneDX CLI\ncyclonedx-cli validate --input-file sbom.json\n\n# R\xe9g\xe9n\xe9rer avec verbose\nsyft . -vv -o cyclonedx-json\n"})}),"\n",(0,o.jsx)(e.h3,{id:"erreur-de-format",children:"Erreur de format"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Convertir entre formats\ncyclonedx-cli convert \\\n  --input-file sbom.spdx.json \\\n  --output-file sbom.cdx.json \\\n  --input-format spdx-json \\\n  --output-format cyclonedx-json\n"})}),"\n",(0,o.jsx)(e.h2,{id:"-ressources",children:"\ud83d\udcda Ressources"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://cyclonedx.org/specification/overview/",children:"CycloneDX Specification"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://spdx.dev/specifications/",children:"SPDX Specification"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://github.com/anchore/syft",children:"Syft Documentation"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://dependencytrack.org/",children:"Dependency Track"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://www.ntia.gov/sbom",children:"NTIA SBOM Guidelines"})}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"-exemple-complet---pipeline-sbom",children:"\ud83c\udf93 Exemple complet - Pipeline SBOM"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",metastring:'title="complete-sbom-pipeline.yml"',children:'name: Complete SBOM Pipeline\n\non: [push, release]\n\njobs:\n  sbom-lifecycle:\n    runs-on: ubuntu-latest\n    steps:\n      # 1. Build\n      - uses: actions/checkout@v4\n      - uses: actions/setup-java@v4\n        with:\n          java-version: \'17\'\n      - run: ./mvnw package\n      \n      # 2. Generate SBOM\n      - uses: anchore/sbom-action@v0\n        with:\n          format: cyclonedx-json\n          output-file: sbom.json\n      \n      # 3. Validate\n      - run: cyclonedx-cli validate --input-file sbom.json\n      \n      # 4. Sign\n      - run: cosign sign-blob sbom.json --output-signature sbom.sig\n        env:\n          COSIGN_PRIVATE_KEY: ${{ secrets.COSIGN_PRIVATE_KEY }}\n      \n      # 5. Scan\n      - uses: anchore/scan-action@v3\n        with:\n          sbom: sbom.json\n          fail-build: true\n      \n      # 6. Upload\n      - uses: actions/upload-artifact@v4\n        with:\n          name: sbom\n          path: |\n            sbom.json\n            sbom.sig\n      \n      # 7. Push to Dependency Track\n      - run: |\n          curl -X POST "$DTRACK_URL/api/v1/bom" \\\n            -H "X-Api-Key: $DTRACK_KEY" \\\n            -F "project=$PROJECT_UUID" \\\n            -F "bom=@sbom.json"\n'})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Votre SBOM est maintenant g\xe9n\xe9r\xe9, sign\xe9, scann\xe9 et archiv\xe9 automatiquement !"})," \ud83d\udccb\ud83d\udd12"]})]})}function u(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>t,x:()=>r});var i=s(6540);const o={},a=i.createContext(o);function t(n){const e=i.useContext(a);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:t(n.components),i.createElement(a.Provider,{value:e},n.children)}}}]);