"use strict";(globalThis.webpackChunkdocusaurus_poc=globalThis.webpackChunkdocusaurus_poc||[]).push([[1107],{8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>c});var s=r(6540);const i={},t=s.createContext(i);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(t.Provider,{value:n},e.children)}},9477:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"security/authentification-autorisation/oauth","title":"OAuth 2.0","description":"Introduction","source":"@site/docs/security/authentification-autorisation/oauth.md","sourceDirName":"security/authentification-autorisation","slug":"/security/authentification-autorisation/oauth","permalink":"/docs/security/authentification-autorisation/oauth","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/security/authentification-autorisation/oauth.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docs","previous":{"title":"Authentification/Autorisation","permalink":"/docs/security/authentification-autorisation/"},"next":{"title":"OpenID Connect (OIDC)","permalink":"/docs/security/authentification-autorisation/oidc"}}');var i=r(4848),t=r(8453);const l={sidebar_position:1},c="OAuth 2.0",o={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Concepts Cl\xe9s",id:"concepts-cl\xe9s",level:2},{value:"Les Acteurs (Roles)",id:"les-acteurs-roles",level:3},{value:"Les Tokens",id:"les-tokens",level:3},{value:"Access Token",id:"access-token",level:4},{value:"Refresh Token",id:"refresh-token",level:4},{value:"Les Scopes",id:"les-scopes",level:3},{value:"Les Flux d&#39;Autorisation (Grant Types)",id:"les-flux-dautorisation-grant-types",level:2},{value:"Authorization Code Flow",id:"authorization-code-flow",level:3},{value:"Client Credentials Flow",id:"client-credentials-flow",level:3},{value:"Resource Owner Password Credentials (ROPC)",id:"resource-owner-password-credentials-ropc",level:3},{value:"Comparaison des Flux",id:"comparaison-des-flux",level:2},{value:"S\xe9curit\xe9 - Bonnes Pratiques",id:"s\xe9curit\xe9---bonnes-pratiques",level:2},{value:"Pour tous les flux",id:"pour-tous-les-flux",level:3},{value:"Authorization Code Flow",id:"authorization-code-flow-1",level:3},{value:"Client Credentials",id:"client-credentials",level:3},{value:"Password Grant",id:"password-grant",level:3},{value:"Refresh Token Flow",id:"refresh-token-flow",level:2},{value:"Exemples de Requ\xeates HTTP",id:"exemples-de-requ\xeates-http",level:2},{value:"Authorization Code Flow",id:"authorization-code-flow-2",level:3},{value:"Client Credentials Flow",id:"client-credentials-flow-1",level:3},{value:"Password Grant Flow",id:"password-grant-flow",level:3},{value:"Refresh Token Flow",id:"refresh-token-flow-1",level:3},{value:"Utilisation de l&#39;Access Token",id:"utilisation-de-laccess-token",level:3},{value:"R\xe9vocation de Token",id:"r\xe9vocation-de-token",level:3},{value:"Ressources Suppl\xe9mentaires",id:"ressources-suppl\xe9mentaires",level:2},{value:"Glossaire",id:"glossaire",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"oauth-20",children:"OAuth 2.0"})}),"\n",(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(n.p,{children:"OAuth 2.0 est un protocole d'autorisation qui permet \xe0 des applications tierces d'acc\xe9der aux ressources d'un utilisateur sans exposer ses identifiants. Il est devenu le standard de facto pour l'autorisation sur le web."}),"\n",(0,i.jsx)(n.h2,{id:"concepts-cl\xe9s",children:"Concepts Cl\xe9s"}),"\n",(0,i.jsx)(n.h3,{id:"les-acteurs-roles",children:"Les Acteurs (Roles)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resource Owner"})," : L'utilisateur qui poss\xe8de les donn\xe9es"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Client"})," : L'application qui souhaite acc\xe9der aux ressources"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Authorization Server"})," : Le serveur qui authentifie l'utilisateur et d\xe9livre les tokens"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resource Server"})," : Le serveur qui h\xe9berge les ressources prot\xe9g\xe9es"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"les-tokens",children:"Les Tokens"}),"\n",(0,i.jsx)(n.h4,{id:"access-token",children:"Access Token"}),"\n",(0,i.jsx)(n.p,{children:"Token utilis\xe9 pour acc\xe9der aux ressources prot\xe9g\xe9es. Il a une dur\xe9e de vie limit\xe9e (g\xe9n\xe9ralement courte)."}),"\n",(0,i.jsx)(n.h4,{id:"refresh-token",children:"Refresh Token"}),"\n",(0,i.jsx)(n.p,{children:"Token optionnel utilis\xe9 pour obtenir un nouvel access token sans r\xe9-authentification. Plus longue dur\xe9e de vie."}),"\n",(0,i.jsx)(n.h3,{id:"les-scopes",children:"Les Scopes"}),"\n",(0,i.jsxs)(n.p,{children:["Les scopes d\xe9finissent les permissions accord\xe9es. Exemples : ",(0,i.jsx)(n.code,{children:"read:user"}),", ",(0,i.jsx)(n.code,{children:"write:posts"}),", ",(0,i.jsx)(n.code,{children:"admin:all"})]}),"\n",(0,i.jsx)(n.h2,{id:"les-flux-dautorisation-grant-types",children:"Les Flux d'Autorisation (Grant Types)"}),"\n",(0,i.jsx)(n.h3,{id:"authorization-code-flow",children:"Authorization Code Flow"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cas d'usage"})," : Applications web avec backend s\xe9curis\xe9, applications mobiles natives"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Avantages"})," : Le plus s\xe9curis\xe9, le client ne voit jamais les credentials de l'utilisateur"]}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\r\n    participant U as User\r\n    participant C as Client App\r\n    participant AS as Authorization Server\r\n    participant RS as Resource Server\r\n\r\n    U->>C: 1. Demande d'acc\xe8s\r\n    C->>AS: 2. Redirection vers /authorize\r\n    AS->>U: 3. Page de login/consentement\r\n    U->>AS: 4. Authentification + accord\r\n    AS->>C: 5. Redirection avec code\r\n    C->>AS: 6. \xc9change code contre tokens<br/>(+ client_secret)\r\n    AS->>C: 7. Access token + refresh token\r\n    C->>RS: 8. Requ\xeate avec access token\r\n    RS->>C: 9. Ressource prot\xe9g\xe9e"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\xc9tapes d\xe9taill\xe9es"})," :"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:'L\'utilisateur clique sur "Se connecter avec..."'}),"\n",(0,i.jsxs)(n.li,{children:["Redirection vers l'authorization server avec les param\xe8tres :","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"response_type=code"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"client_id"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"redirect_uri"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"scope"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"state"})," (protection CSRF)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"L'utilisateur s'authentifie et autorise l'application"}),"\n",(0,i.jsx)(n.li,{children:"Redirection vers le client avec un code d'autorisation"}),"\n",(0,i.jsx)(n.li,{children:"Le client \xe9change le code contre un access token (requ\xeate backend)"}),"\n",(0,i.jsx)(n.li,{children:"Le client peut maintenant acc\xe9der aux ressources"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"client-credentials-flow",children:"Client Credentials Flow"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cas d'usage"})," : Communication machine-to-machine, services backend, jobs automatis\xe9s"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Avantages"})," : Simple, pas d'interaction utilisateur n\xe9cessaire"]}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\r\n    participant C as Client App\r\n    participant AS as Authorization Server\r\n    participant RS as Resource Server\r\n\r\n    C->>AS: 1. POST /token<br/>grant_type=client_credentials<br/>client_id + client_secret\r\n    AS->>AS: 2. V\xe9rification des credentials\r\n    AS->>C: 3. Access token\r\n    C->>RS: 4. Requ\xeate avec access token\r\n    RS->>C: 5. Ressource prot\xe9g\xe9e"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\xc9tapes d\xe9taill\xe9es"})," :"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Le client envoie directement ses credentials (",(0,i.jsx)(n.code,{children:"client_id"})," + ",(0,i.jsx)(n.code,{children:"client_secret"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"L'authorization server v\xe9rifie les credentials"}),"\n",(0,i.jsx)(n.li,{children:"Un access token est retourn\xe9 (pas de refresh token g\xe9n\xe9ralement)"}),"\n",(0,i.jsx)(n.li,{children:"Le client utilise l'access token pour acc\xe9der aux ressources"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Exemple de requ\xeate"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"POST /oauth/token\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\ngrant_type=client_credentials\r\n&client_id=my_client_id\r\n&client_secret=my_client_secret\r\n&scope=api:read\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"resource-owner-password-credentials-ropc",children:"Resource Owner Password Credentials (ROPC)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cas d'usage"})," : Applications de premi\xe8re partie (first-party), migration depuis syst\xe8mes legacy"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u26a0\ufe0f Attention"})," : D\xe9conseill\xe9 car le client manipule directement les credentials de l'utilisateur"]}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\r\n    participant U as User\r\n    participant C as Client App (trusted)\r\n    participant AS as Authorization Server\r\n    participant RS as Resource Server\r\n\r\n    U->>C: 1. Entre username + password\r\n    C->>AS: 2. POST /token<br/>grant_type=password<br/>username + password + client_id\r\n    AS->>AS: 3. V\xe9rification credentials\r\n    AS->>C: 4. Access token + refresh token\r\n    C->>RS: 5. Requ\xeate avec access token\r\n    RS->>C: 6. Ressource prot\xe9g\xe9e"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\xc9tapes d\xe9taill\xe9es"})," :"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"L'utilisateur entre ses identifiants directement dans l'application"}),"\n",(0,i.jsx)(n.li,{children:"Le client envoie les credentials \xe0 l'authorization server"}),"\n",(0,i.jsx)(n.li,{children:"Si valides, un access token (et \xe9ventuellement refresh token) est retourn\xe9"}),"\n",(0,i.jsx)(n.li,{children:"Le client utilise l'access token normalement"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Exemple de requ\xeate"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"POST /oauth/token\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\ngrant_type=password\r\n&username=user@example.com\r\n&password=secret123\r\n&client_id=my_client_id\r\n&scope=read write\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Pourquoi c'est d\xe9conseill\xe9"})," :"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Le client voit le mot de passe de l'utilisateur"}),"\n",(0,i.jsx)(n.li,{children:"Pas de MFA possible"}),"\n",(0,i.jsx)(n.li,{children:"Moins s\xe9curis\xe9 que Authorization Code Flow"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"comparaison-des-flux",children:"Comparaison des Flux"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Flow"}),(0,i.jsx)(n.th,{children:"Interaction User"}),(0,i.jsx)(n.th,{children:"S\xe9curit\xe9"}),(0,i.jsx)(n.th,{children:"Cas d'usage typique"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Authorization Code"})}),(0,i.jsx)(n.td,{children:"\u2705 Oui"}),(0,i.jsx)(n.td,{children:"\ud83d\udfe2 Tr\xe8s haute"}),(0,i.jsx)(n.td,{children:"Apps web, mobiles"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Client Credentials"})}),(0,i.jsx)(n.td,{children:"\u274c Non"}),(0,i.jsx)(n.td,{children:"\ud83d\udfe2 Haute"}),(0,i.jsx)(n.td,{children:"Services backend"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Password Grant"})}),(0,i.jsx)(n.td,{children:"\u2705 Oui"}),(0,i.jsx)(n.td,{children:"\ud83d\udfe1 Moyenne"}),(0,i.jsx)(n.td,{children:"Apps first-party (legacy)"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"s\xe9curit\xe9---bonnes-pratiques",children:"S\xe9curit\xe9 - Bonnes Pratiques"}),"\n",(0,i.jsx)(n.h3,{id:"pour-tous-les-flux",children:"Pour tous les flux"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Toujours utiliser HTTPS"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Valider les redirect URIs"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Impl\xe9menter une expiration des tokens"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Stocker les secrets de mani\xe8re s\xe9curis\xe9e"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"authorization-code-flow-1",children:"Authorization Code Flow"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2705 Utiliser le param\xe8tre ",(0,i.jsx)(n.code,{children:"state"})," pour pr\xe9venir CSRF"]}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Impl\xe9menter PKCE (Proof Key for Code Exchange) pour les apps mobiles"}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 Ne jamais exposer le ",(0,i.jsx)(n.code,{children:"client_secret"})," c\xf4t\xe9 client"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"client-credentials",children:"Client Credentials"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Rotation r\xe9guli\xe8re des secrets"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Limiter les scopes au strict n\xe9cessaire"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Monitoring des acc\xe8s"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"password-grant",children:"Password Grant"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\ud83d\udeab \xc0 \xe9viter si possible, pr\xe9f\xe9rer Authorization Code Flow"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Si utilis\xe9 : uniquement pour applications de confiance absolue"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Impl\xe9menter rate limiting pour pr\xe9venir brute force"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"refresh-token-flow",children:"Refresh Token Flow"}),"\n",(0,i.jsx)(n.p,{children:"Lorsque l'access token expire, utilisez le refresh token :"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\r\n    participant C as Client App\r\n    participant AS as Authorization Server\r\n\r\n    C->>AS: POST /token<br/>grant_type=refresh_token<br/>refresh_token=...\r\n    AS->>AS: V\xe9rification refresh token\r\n    AS->>C: Nouvel access token<br/>(+ nouveau refresh token optionnel)"}),"\n",(0,i.jsx)(n.h2,{id:"exemples-de-requ\xeates-http",children:"Exemples de Requ\xeates HTTP"}),"\n",(0,i.jsx)(n.h3,{id:"authorization-code-flow-2",children:"Authorization Code Flow"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\xc9tape 1 : Redirection vers l'authorization server"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET /authorize?response_type=code&client_id=my_app_id&redirect_uri=https://myapp.com/callback&scope=read:user%20write:posts&state=xyz123 HTTP/1.1\r\nHost: auth.example.com\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\xc9tape 2 : \xc9change du code contre un token"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"POST /oauth/token HTTP/1.1\r\nHost: auth.example.com\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\ngrant_type=authorization_code\r\n&code=SplxlOBeZQQYbYS6WxSbIA\r\n&client_id=my_app_id\r\n&client_secret=my_app_secret\r\n&redirect_uri=https://myapp.com/callback\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"R\xe9ponse"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",\r\n  "token_type": "Bearer",\r\n  "expires_in": 3600,\r\n  "refresh_token": "tGzv3JOkF0XG5Qx2TlKWIA",\r\n  "scope": "read:user write:posts"\r\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"client-credentials-flow-1",children:"Client Credentials Flow"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"POST /oauth/token HTTP/1.1\r\nHost: auth.example.com\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\ngrant_type=client_credentials\r\n&client_id=service_app_id\r\n&client_secret=service_app_secret\r\n&scope=api:read api:write\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"R\xe9ponse"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",\r\n  "token_type": "Bearer",\r\n  "expires_in": 7200,\r\n  "scope": "api:read api:write"\r\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"password-grant-flow",children:"Password Grant Flow"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"POST /oauth/token HTTP/1.1\r\nHost: auth.example.com\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\ngrant_type=password\r\n&username=user@example.com\r\n&password=secret123\r\n&client_id=trusted_app_id\r\n&scope=read write\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"R\xe9ponse"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",\r\n  "token_type": "Bearer",\r\n  "expires_in": 3600,\r\n  "refresh_token": "tGzv3JOkF0XG5Qx2TlKWIA",\r\n  "scope": "read write"\r\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"refresh-token-flow-1",children:"Refresh Token Flow"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"POST /oauth/token HTTP/1.1\r\nHost: auth.example.com\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\ngrant_type=refresh_token\r\n&refresh_token=tGzv3JOkF0XG5Qx2TlKWIA\r\n&client_id=my_app_id\r\n&client_secret=my_app_secret\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"R\xe9ponse"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",\r\n  "token_type": "Bearer",\r\n  "expires_in": 3600,\r\n  "refresh_token": "8xLOxBtZp8rrJnZ4GsdU3V"\r\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"utilisation-de-laccess-token",children:"Utilisation de l'Access Token"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Requ\xeate authentifi\xe9e vers une API prot\xe9g\xe9e"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"GET /api/user/profile HTTP/1.1\r\nHost: api.example.com\r\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"R\xe9ponse"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "id": "123456",\r\n  "name": "John Doe",\r\n  "email": "john.doe@example.com"\r\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"r\xe9vocation-de-token",children:"R\xe9vocation de Token"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"POST /oauth/revoke HTTP/1.1\r\nHost: auth.example.com\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\ntoken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\r\n&token_type_hint=access_token\r\n&client_id=my_app_id\r\n&client_secret=my_app_secret\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ressources-suppl\xe9mentaires",children:"Ressources Suppl\xe9mentaires"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc6749",children:"RFC 6749 - OAuth 2.0 Framework"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-security-topics",children:"OAuth 2.0 Security Best Practices"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-1-07",children:"OAuth 2.1 (draft)"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"glossaire",children:"Glossaire"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"PKCE"})," : Proof Key for Code Exchange - Extension de s\xe9curit\xe9 pour apps mobiles/SPA"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CSRF"})," : Cross-Site Request Forgery - Attaque web"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"JWT"})," : JSON Web Token - Format courant pour les access tokens"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bearer Token"})," : Type de token transmis dans le header Authorization"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);