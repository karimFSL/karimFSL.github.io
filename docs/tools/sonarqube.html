<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tools/sonarqube" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">üîç SonarQube Community + Branch Plugin | Plateforme DevSecOps</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://karimfsl.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://karimfsl.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://karimfsl.github.io/docs/tools/sonarqube"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="üîç SonarQube Community + Branch Plugin | Plateforme DevSecOps"><meta data-rh="true" name="description" content="SonarQube Community avec le Community Branch Plugin permet l&#x27;analyse de branches et la d√©coration de PR/MR, normalement r√©serv√©es √† la version Developer."><meta data-rh="true" property="og:description" content="SonarQube Community avec le Community Branch Plugin permet l&#x27;analyse de branches et la d√©coration de PR/MR, normalement r√©serv√©es √† la version Developer."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://karimfsl.github.io/docs/tools/sonarqube"><link data-rh="true" rel="alternate" href="https://karimfsl.github.io/docs/tools/sonarqube" hreflang="en"><link data-rh="true" rel="alternate" href="https://karimfsl.github.io/docs/tools/sonarqube" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Outils","item":"https://karimfsl.github.io/docs/tools/"},{"@type":"ListItem","position":2,"name":"üîç SonarQube Community + Branch Plugin","item":"https://karimfsl.github.io/docs/tools/sonarqube"}]}</script><link rel="stylesheet" href="/assets/css/styles.96c1b3eb.css">
<script src="/assets/js/runtime~main.ed0faf5f.js" defer="defer"></script>
<script src="/assets/js/main.c0bfc46b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">DevSecOps Platform</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro"><span title="üöÄ Plateforme DevSecOps - Introduction" class="linkLabel_WmDU">üöÄ Plateforme DevSecOps - Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/architecture"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a><button aria-label="Expand sidebar category &#x27;Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/development"><span title="Developer Guide" class="categoryLinkLabel_W154">Developer Guide</span></a><button aria-label="Expand sidebar category &#x27;Developer Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/microservices"><span title="Microservices" class="categoryLinkLabel_W154">Microservices</span></a><button aria-label="Expand sidebar category &#x27;Microservices&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/devops"><span title="Devops" class="categoryLinkLabel_W154">Devops</span></a><button aria-label="Expand sidebar category &#x27;Devops&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/infrastructure"><span title="Infrastructure" class="categoryLinkLabel_W154">Infrastructure</span></a><button aria-label="Expand sidebar category &#x27;Infrastructure&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/security"><span title="S√©curit√©" class="categoryLinkLabel_W154">S√©curit√©</span></a><button aria-label="Expand sidebar category &#x27;S√©curit√©&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/tools"><span title="Outils" class="categoryLinkLabel_W154">Outils</span></a><button aria-label="Collapse sidebar category &#x27;Outils&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/renovate"><span title="üîÑ Renovate - Automatisation des d√©pendances" class="linkLabel_WmDU">üîÑ Renovate - Automatisation des d√©pendances</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tools/sonarqube"><span title="üîç SonarQube Community + Branch Plugin" class="linkLabel_WmDU">üîç SonarQube Community + Branch Plugin</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ecosystem"><span title="Ecosystem" class="linkLabel_WmDU">Ecosystem</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/tools"><span>Outils</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">üîç SonarQube Community + Branch Plugin</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>üîç SonarQube Community + Branch Plugin</h1></header>
<p><strong>SonarQube Community</strong> avec le <strong>Community Branch Plugin</strong> permet l&#x27;analyse de branches et la d√©coration de PR/MR, normalement r√©serv√©es √† la version Developer.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-pourquoi-ce-plugin-">üéØ Pourquoi ce plugin ?<a href="#-pourquoi-ce-plugin-" class="hash-link" aria-label="Direct link to üéØ Pourquoi ce plugin ?" title="Direct link to üéØ Pourquoi ce plugin ?" translate="no">‚Äã</a></h2>
<ul>
<li class="">‚úÖ <strong>Branch analysis</strong> : Scanner plusieurs branches (feature, develop, main)</li>
<li class="">‚úÖ <strong>PR/MR decoration</strong> : Commentaires automatiques sur les PR/MR</li>
<li class="">‚úÖ <strong>Gratuit</strong> : Alternative √† SonarQube Developer Edition</li>
<li class="">‚úÖ <strong>Multi-plateforme</strong> : GitLab, GitHub, Bitbucket, Azure DevOps</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-installation">üì¶ Installation<a href="#-installation" class="hash-link" aria-label="Direct link to üì¶ Installation" title="Direct link to üì¶ Installation" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="docker-compose-recommand√©">Docker Compose (Recommand√©)<a href="#docker-compose-recommand√©" class="hash-link" aria-label="Direct link to Docker Compose (Recommand√©)" title="Direct link to Docker Compose (Recommand√©)" translate="no">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># docker-compose.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;3&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sonarqube</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mc1arke/sonarqube</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">with</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">community</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">branch</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plugin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sonarqube</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;9000:9000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SONAR_JDBC_URL=jdbc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">postgresql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//db</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">5432/sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SONAR_JDBC_USERNAME=sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SONAR_JDBC_PASSWORD=sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sonarqube_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/opt/sonarqube/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sonarqube_logs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/opt/sonarqube/logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sonarqube_extensions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/opt/sonarqube/extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">db</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">15</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sonarqube</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> POSTGRES_USER=sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> POSTGRES_PASSWORD=sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> POSTGRES_DB=sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> postgresql_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/postgresql/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sonarqube_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sonarqube_logs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sonarqube_extensions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  postgresql_data</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># D√©marrage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> up </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Acc√®s : http://localhost:9000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Login par d√©faut : admin / admin</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="installation-manuelle">Installation manuelle<a href="#installation-manuelle" class="hash-link" aria-label="Direct link to Installation manuelle" title="Direct link to Installation manuelle" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 1. T√©l√©charger SonarQube Community</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-10.3.0.82913.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">unzip</span><span class="token plain"> sonarqube-10.3.0.82913.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2. T√©l√©charger le plugin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://github.com/mc1arke/sonarqube-community-branch-plugin/releases/download/1.18.0/sonarqube-community-branch-plugin-1.18.0.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 3. Installer le plugin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> sonarqube-community-branch-plugin-1.18.0.jar sonarqube-10.3.0.82913/extensions/plugins/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 4. D√©marrer SonarQube</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> sonarqube-10.3.0.82913/bin/linux-x86-64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./sonar.sh start</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="Ô∏è-configuration">‚öôÔ∏è Configuration<a href="#Ô∏è-configuration" class="hash-link" aria-label="Direct link to ‚öôÔ∏è Configuration" title="Direct link to ‚öôÔ∏è Configuration" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-premi√®re-connexion">1. Premi√®re connexion<a href="#1-premi√®re-connexion" class="hash-link" aria-label="Direct link to 1. Premi√®re connexion" title="Direct link to 1. Premi√®re connexion" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># URL : http://localhost:9000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Login : admin / admin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ‚Üí Changer le mot de passe</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-cr√©er-un-projet">2. Cr√©er un projet<a href="#2-cr√©er-un-projet" class="hash-link" aria-label="Direct link to 2. Cr√©er un projet" title="Direct link to 2. Cr√©er un projet" translate="no">‚Äã</a></h3>
<ol>
<li class=""><strong>Administration</strong> ‚Üí <strong>Projects</strong> ‚Üí <strong>Create Project</strong></li>
<li class=""><strong>Project key</strong> : <code>my-project</code></li>
<li class=""><strong>Display name</strong> : <code>My Project</code></li>
<li class=""><strong>Main branch</strong> : <code>main</code></li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-g√©n√©rer-un-token">3. G√©n√©rer un token<a href="#3-g√©n√©rer-un-token" class="hash-link" aria-label="Direct link to 3. G√©n√©rer un token" title="Direct link to 3. G√©n√©rer un token" translate="no">‚Äã</a></h3>
<ol>
<li class=""><strong>My Account</strong> ‚Üí <strong>Security</strong> ‚Üí <strong>Generate Tokens</strong></li>
<li class=""><strong>Name</strong> : <code>gitlab-ci</code> ou <code>github-actions</code></li>
<li class=""><strong>Type</strong> : Global Analysis Token</li>
<li class=""><strong>Expires in</strong> : No expiration</li>
<li class=""><strong>Generate</strong> ‚Üí Copier le token</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-configuration-gitlabgithub">4. Configuration GitLab/GitHub<a href="#4-configuration-gitlabgithub" class="hash-link" aria-label="Direct link to 4. Configuration GitLab/GitHub" title="Direct link to 4. Configuration GitLab/GitHub" translate="no">‚Äã</a></h3>
<p><strong>GitLab</strong> :</p>
<ol>
<li class=""><strong>Administration</strong> ‚Üí <strong>Configuration</strong> ‚Üí <strong>ALM</strong></li>
<li class=""><strong>GitLab</strong> ‚Üí <strong>Create configuration</strong></li>
<li class=""><strong>Configuration name</strong> : <code>GitLab</code></li>
<li class=""><strong>GitLab URL</strong> : <code>https://gitlab.com</code></li>
<li class=""><strong>Personal Access Token</strong> : Token GitLab avec scope <code>api</code></li>
</ol>
<p><strong>GitHub</strong> :</p>
<ol>
<li class=""><strong>Administration</strong> ‚Üí <strong>Configuration</strong> ‚Üí <strong>ALM</strong></li>
<li class=""><strong>GitHub</strong> ‚Üí <strong>Create configuration</strong></li>
<li class=""><strong>GitHub App</strong> : Cr√©er une GitHub App avec permissions</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-int√©gration-cicd">üîÑ Int√©gration CI/CD<a href="#-int√©gration-cicd" class="hash-link" aria-label="Direct link to üîÑ Int√©gration CI/CD" title="Direct link to üîÑ Int√©gration CI/CD" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="gitlab-ci">GitLab CI<a href="#gitlab-ci" class="hash-link" aria-label="Direct link to GitLab CI" title="Direct link to GitLab CI" translate="no">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># .gitlab-ci.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">stages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">variables</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">SONAR_HOST_URL</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://sonarqube:9000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">SONAR_TOKEN</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $SONAR_TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">GIT_DEPTH</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">sonarqube-check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">stage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sonarsource/sonar</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">scanner</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cli</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">script</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sonar</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">scanner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.projectKey=my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.sources=.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.host.url=$SONAR_HOST_URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.token=$SONAR_TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.branch.name=$CI_COMMIT_REF_NAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">only</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> branches</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> merge_requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">sonarqube-mr-decoration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">stage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sonarsource/sonar</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">scanner</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cli</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">script</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sonar</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">scanner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.projectKey=my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.sources=.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.host.url=$SONAR_HOST_URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.token=$SONAR_TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.pullrequest.key=$CI_MERGE_REQUEST_IID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.pullrequest.branch=$CI_MERGE_REQUEST_SOURCE_BRANCH_NAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.pullrequest.base=$CI_MERGE_REQUEST_TARGET_BRANCH_NAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Dsonar.pullrequest.gitlab.projectId=$CI_PROJECT_PATH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">only</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> merge_requests</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="jenkins">Jenkins<a href="#jenkins" class="hash-link" aria-label="Direct link to Jenkins" title="Direct link to Jenkins" translate="no">‚Äã</a></h3>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pipeline </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    agent any</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    environment </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SONAR_HOST </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://sonarqube:9000&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SONAR_TOKEN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">credentials</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;sonar-token&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stages </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">stage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;SonarQube Analysis&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            steps </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                script </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> scannerHome </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tool </span><span class="token string" style="color:#e3116c">&#x27;SonarScanner&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token function" style="color:#d73a49">withSonarQubeEnv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;SonarQube&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        sh </span><span class="token interpolation-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token interpolation-string string" style="color:#e3116c">                            </span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token interpolation-string interpolation expression">scannerHome</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">/bin/sonar-scanner \</span><br></span><span class="token-line" style="color:#393A34"><span class="token interpolation-string string" style="color:#e3116c">                              -Dsonar.projectKey=my-project \</span><br></span><span class="token-line" style="color:#393A34"><span class="token interpolation-string string" style="color:#e3116c">                              -Dsonar.sources=. \</span><br></span><span class="token-line" style="color:#393A34"><span class="token interpolation-string string" style="color:#e3116c">                              -Dsonar.host.url=</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token interpolation-string interpolation expression">SONAR_HOST</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token interpolation-string string" style="color:#e3116c">                              -Dsonar.token=</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token interpolation-string interpolation expression">SONAR_TOKEN</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token interpolation-string string" style="color:#e3116c">                              -Dsonar.branch.name=</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token interpolation-string interpolation expression">env</span><span class="token interpolation-string interpolation expression punctuation" style="color:#393A34">.</span><span class="token interpolation-string interpolation expression">BRANCH_NAME</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token interpolation-string string" style="color:#e3116c">                        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ligne-de-commande">Ligne de commande<a href="#ligne-de-commande" class="hash-link" aria-label="Direct link to Ligne de commande" title="Direct link to Ligne de commande" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Scan basique</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar-scanner </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.projectKey</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">my-project </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.sources</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.host.url</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">http://localhost:9000 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.token</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$SONAR_TOKEN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Avec branch</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar-scanner </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.projectKey</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">my-project </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.sources</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.host.url</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">http://localhost:9000 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.token</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$SONAR_TOKEN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.branch.name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">feature/my-feature</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-configuration-g√©n√©rique">üìÅ Configuration g√©n√©rique<a href="#-configuration-g√©n√©rique" class="hash-link" aria-label="Direct link to üìÅ Configuration g√©n√©rique" title="Direct link to üìÅ Configuration g√©n√©rique" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="fichier-sonar-projectproperties">Fichier sonar-project.properties<a href="#fichier-sonar-projectproperties" class="hash-link" aria-label="Direct link to Fichier sonar-project.properties" title="Direct link to Fichier sonar-project.properties" translate="no">‚Äã</a></h3>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configuration de base (tous langages)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.projectKey=my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.projectName=My Project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.projectVersion=1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Chemins sources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.sources=src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.tests=tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Exclusions communes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.exclusions=\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/node_modules/**,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/vendor/**,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/dist/**,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/build/**,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/target/**,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/*.min.js,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/*.generated.*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.test.exclusions=\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/*Test.*,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/*.spec.*,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/test/**</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration-par-outil-de-build">Configuration par outil de build<a href="#configuration-par-outil-de-build" class="hash-link" aria-label="Direct link to Configuration par outil de build" title="Direct link to Configuration par outil de build" translate="no">‚Äã</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="maven-java">Maven (Java)<a href="#maven-java" class="hash-link" aria-label="Direct link to Maven (Java)" title="Direct link to Maven (Java)" translate="no">‚Äã</a></h4>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- pom.xml --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">properties</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">sonar.projectKey</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">my-project</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">sonar.projectKey</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">sonar.host.url</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">http://localhost:9000</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">sonar.host.url</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">sonar.coverage.jacoco.xmlReportPaths</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">target/site/jacoco/jacoco.xml</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">sonar.coverage.jacoco.xmlReportPaths</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">properties</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mvn clean verify sonar:sonar </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.token</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$SONAR_TOKEN</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="gradle-javakotlin">Gradle (Java/Kotlin)<a href="#gradle-javakotlin" class="hash-link" aria-label="Direct link to Gradle (Java/Kotlin)" title="Direct link to Gradle (Java/Kotlin)" translate="no">‚Äã</a></h4>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// build.gradle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plugins </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token string" style="color:#e3116c">&#x27;org.sonarqube&#x27;</span><span class="token plain"> version </span><span class="token string" style="color:#e3116c">&#x27;4.4.1.3373&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    properties </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        property </span><span class="token interpolation-string string" style="color:#e3116c">&quot;sonar.projectKey&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">&quot;my-project&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        property </span><span class="token interpolation-string string" style="color:#e3116c">&quot;sonar.host.url&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:#e3116c">&quot;http://localhost:9000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./gradlew sonar </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.token</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$SONAR_TOKEN</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="composer-php">Composer (PHP)<a href="#composer-php" class="hash-link" aria-label="Direct link to Composer (PHP)" title="Direct link to Composer (PHP)" translate="no">‚Äã</a></h4>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># sonar-project.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.projectKey=my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.sources=src,modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.tests=tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.php.coverage.reportPaths=coverage.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.exclusions=vendor/**</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="npm-javascripttypescript">npm (JavaScript/TypeScript)<a href="#npm-javascripttypescript" class="hash-link" aria-label="Direct link to npm (JavaScript/TypeScript)" title="Direct link to npm (JavaScript/TypeScript)" translate="no">‚Äã</a></h4>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># sonar-project.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.projectKey=my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.sources=src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.tests=tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.javascript.lcov.reportPaths=coverage/lcov.info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.typescript.lcov.reportPaths=coverage/lcov.info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.exclusions=node_modules/**,dist/**</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="autres-langages">Autres langages<a href="#autres-langages" class="hash-link" aria-label="Direct link to Autres langages" title="Direct link to Autres langages" translate="no">‚Äã</a></h4>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Python</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.python.coverage.reportPaths=coverage.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.go.coverage.reportPaths=coverage.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># .NET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.cs.vscoveragexml.reportsPaths=coverage.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Ruby</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.ruby.coverage.reportPaths=coverage/coverage.xml</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="scan-universel-avec-sonar-scanner">Scan universel avec sonar-scanner<a href="#scan-universel-avec-sonar-scanner" class="hash-link" aria-label="Direct link to Scan universel avec sonar-scanner" title="Direct link to Scan universel avec sonar-scanner" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Installation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Linux</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-5.0.1.3006-linux.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">unzip</span><span class="token plain"> sonar-scanner-cli-5.0.1.3006-linux.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token environment constant" style="color:#36acaa">$PATH</span><span class="token plain">:/path/to/sonar-scanner/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># macOS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> sonar-scanner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Docker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run sonarsource/sonar-scanner-cli sonar-scanner </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Scan</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar-scanner </span><span class="token parameter variable" style="color:#36acaa">-Dsonar.token</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$SONAR_TOKEN</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-configuration-avanc√©e">üéØ Configuration avanc√©e<a href="#-configuration-avanc√©e" class="hash-link" aria-label="Direct link to üéØ Configuration avanc√©e" title="Direct link to üéØ Configuration avanc√©e" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quality-gate">Quality Gate<a href="#quality-gate" class="hash-link" aria-label="Direct link to Quality Gate" title="Direct link to Quality Gate" translate="no">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Dans SonarQube UI</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Quality Gates ‚Üí Create ‚Üí Configure:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Coverage </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 80%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Duplicated Lines &lt; 3%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Maintainability Rating = A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Reliability Rating = A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Security Rating = A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Security Hotspots Reviewed </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 80%</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quality-profile">Quality Profile<a href="#quality-profile" class="hash-link" aria-label="Direct link to Quality Profile" title="Direct link to Quality Profile" translate="no">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Administration ‚Üí Quality Profiles</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Cr√©er un profil personnalis√© par langage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Activer/d√©sactiver des r√®gles selon vos besoins</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exclusions-globales">Exclusions globales<a href="#exclusions-globales" class="hash-link" aria-label="Direct link to Exclusions globales" title="Direct link to Exclusions globales" translate="no">‚Äã</a></h3>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># sonar-project.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.exclusions=\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/node_modules/**,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/vendor/**,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/dist/**,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/build/**,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/target/**,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/*.min.js,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/*.generated.*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.test.exclusions=\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/*Test.java,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/*.spec.ts,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  **/test/**</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-s√©curit√©">üîê S√©curit√©<a href="#-s√©curit√©" class="hash-link" aria-label="Direct link to üîê S√©curit√©" title="Direct link to üîê S√©curit√©" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ssltls">SSL/TLS<a href="#ssltls" class="hash-link" aria-label="Direct link to SSL/TLS" title="Direct link to SSL/TLS" translate="no">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># docker-compose.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sonarqube</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SONAR_WEB_HTTPS_ENABLED=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SONAR_WEB_HTTPS_KEYSTORE_PATH=/opt/sonarqube/certs/keystore.p12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SONAR_WEB_HTTPS_KEYSTORE_PASSWORD=changeit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./certs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/opt/sonarqube/certs</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="authentification-ldap">Authentification LDAP<a href="#authentification-ldap" class="hash-link" aria-label="Direct link to Authentification LDAP" title="Direct link to Authentification LDAP" translate="no">‚Äã</a></h3>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># sonar.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar.security.realm=LDAP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ldap.url=ldap://ldap.example.com:389</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ldap.bindDn=cn=sonar,ou=users,dc=example,dc=com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ldap.bindPassword=secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ldap.user.baseDn=ou=users,dc=example,dc=com</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-webhooks-et-int√©grations">üìä Webhooks et int√©grations<a href="#-webhooks-et-int√©grations" class="hash-link" aria-label="Direct link to üìä Webhooks et int√©grations" title="Direct link to üìä Webhooks et int√©grations" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="gitlab-webhook">GitLab Webhook<a href="#gitlab-webhook" class="hash-link" aria-label="Direct link to GitLab Webhook" title="Direct link to GitLab Webhook" translate="no">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Administration ‚Üí Configuration ‚Üí Webhooks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># URL: https://gitlab.com/api/v4/projects/{project_id}/statuses/{commit_sha}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Secret: Token GitLab</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="alertes-email">Alertes email<a href="#alertes-email" class="hash-link" aria-label="Direct link to Alertes email" title="Direct link to Alertes email" translate="no">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Administration ‚Üí Configuration ‚Üí Email</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">SMTP host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> smtp.gmail.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">SMTP port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">587</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">SMTP username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> your</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">email@gmail.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">From address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sonarqube@example.com</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-troubleshooting">üÜò Troubleshooting<a href="#-troubleshooting" class="hash-link" aria-label="Direct link to üÜò Troubleshooting" title="Direct link to üÜò Troubleshooting" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="plugin-non-charg√©">Plugin non charg√©<a href="#plugin-non-charg√©" class="hash-link" aria-label="Direct link to Plugin non charg√©" title="Direct link to Plugin non charg√©" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># V√©rifier les logs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> logs sonarqube</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># V√©rifier le plugin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-la</span><span class="token plain"> /opt/sonarqube/extensions/plugins/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Restart</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> restart sonarqube</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="erreur-de-connexion-db">Erreur de connexion DB<a href="#erreur-de-connexion-db" class="hash-link" aria-label="Direct link to Erreur de connexion DB" title="Direct link to Erreur de connexion DB" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># V√©rifier PostgreSQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> logs sonarqube-db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Recreate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> down </span><span class="token parameter variable" style="color:#36acaa">-v</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> up </span><span class="token parameter variable" style="color:#36acaa">-d</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="branch-analysis-ne-fonctionne-pas">Branch analysis ne fonctionne pas<a href="#branch-analysis-ne-fonctionne-pas" class="hash-link" aria-label="Direct link to Branch analysis ne fonctionne pas" title="Direct link to Branch analysis ne fonctionne pas" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># V√©rifier la version du plugin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Plugin version &gt;= 1.14.0 requis pour SonarQube 10.x</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># V√©rifier les param√®tres</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">-Dsonar.branch.name</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$CI_COMMIT_REF_NAME</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mr-decoration-ne-saffiche-pas">MR decoration ne s&#x27;affiche pas<a href="#mr-decoration-ne-saffiche-pas" class="hash-link" aria-label="Direct link to MR decoration ne s&#x27;affiche pas" title="Direct link to MR decoration ne s&#x27;affiche pas" translate="no">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># V√©rifier la configuration ALM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Administration ‚Üí Configuration ‚Üí ALM ‚Üí GitLab/GitHub</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># V√©rifier le token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Token doit avoir les permissions api/repo</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-meilleures-pratiques">üéØ Meilleures pratiques<a href="#-meilleures-pratiques" class="hash-link" aria-label="Direct link to üéØ Meilleures pratiques" title="Direct link to üéØ Meilleures pratiques" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-scanner-√†-chaque-commit">1. Scanner √† chaque commit<a href="#1-scanner-√†-chaque-commit" class="hash-link" aria-label="Direct link to 1. Scanner √† chaque commit" title="Direct link to 1. Scanner √† chaque commit" translate="no">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">push</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pull_request</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-quality-gate-obligatoire">2. Quality Gate obligatoire<a href="#2-quality-gate-obligatoire" class="hash-link" aria-label="Direct link to 2. Quality Gate obligatoire" title="Direct link to 2. Quality Gate obligatoire" translate="no">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Bloquer les MR si Quality Gate failed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">allow_failure</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-coverage-minimale">3. Coverage minimale<a href="#3-coverage-minimale" class="hash-link" aria-label="Direct link to 3. Coverage minimale" title="Direct link to 3. Coverage minimale" translate="no">‚Äã</a></h3>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sonar.coverage.minimum=80</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-exclure-les-fichiers-g√©n√©r√©s">4. Exclure les fichiers g√©n√©r√©s<a href="#4-exclure-les-fichiers-g√©n√©r√©s" class="hash-link" aria-label="Direct link to 4. Exclure les fichiers g√©n√©r√©s" title="Direct link to 4. Exclure les fichiers g√©n√©r√©s" translate="no">‚Äã</a></h3>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sonar.exclusions=**/*.generated.*,**/node_modules/**</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-maintenance-r√©guli√®re">5. Maintenance r√©guli√®re<a href="#5-maintenance-r√©guli√®re" class="hash-link" aria-label="Direct link to 5. Maintenance r√©guli√®re" title="Direct link to 5. Maintenance r√©guli√®re" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Backup DB hebdomadaire</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Nettoyage des anciennes analyses (&gt; 90 jours)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Mise √† jour du plugin</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-m√©triques-importantes">üìà M√©triques importantes<a href="#-m√©triques-importantes" class="hash-link" aria-label="Direct link to üìà M√©triques importantes" title="Direct link to üìà M√©triques importantes" translate="no">‚Äã</a></h2>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># √Ä surveiller dans SonarQube</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Code Coverage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 80%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Duplicated Lines</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt; 3%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Technical Debt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt; 5 days</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Security Hotspots</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Bugs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Vulnerabilities</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Code Smells</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt; 10</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-mise-√†-jour">üîÑ Mise √† jour<a href="#-mise-√†-jour" class="hash-link" aria-label="Direct link to üîÑ Mise √† jour" title="Direct link to üîÑ Mise √† jour" translate="no">‚Äã</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 1. Backup</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> db pg_dump </span><span class="token parameter variable" style="color:#36acaa">-U</span><span class="token plain"> sonar sonar </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> backup.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2. Arr√™t</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> down</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 3. Mise √† jour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> pull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 4. Red√©marrage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> up </span><span class="token parameter variable" style="color:#36acaa">-d</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ressources">üìö Ressources<a href="#-ressources" class="hash-link" aria-label="Direct link to üìö Ressources" title="Direct link to üìö Ressources" translate="no">‚Äã</a></h2>
<ul>
<li class=""><a href="https://github.com/mc1arke/sonarqube-community-branch-plugin" target="_blank" rel="noopener noreferrer" class="">SonarQube Community Branch Plugin</a></li>
<li class=""><a href="https://docs.sonarqube.org/" target="_blank" rel="noopener noreferrer" class="">SonarQube Documentation</a></li>
<li class=""><a href="https://docs.sonarqube.org/latest/analyzing-source-code/scanners/sonarscanner/" target="_blank" rel="noopener noreferrer" class="">SonarScanner CLI</a></li>
</ul>
<hr>
<p><strong>SonarQube analyse maintenant vos branches et d√©core vos MR/PR automatiquement !</strong> üîç‚ú®</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tools/sonarqube.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tools/renovate"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">üîÑ Renovate - Automatisation des d√©pendances</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/ecosystem"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ecosystem</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-pourquoi-ce-plugin-" class="table-of-contents__link toc-highlight">üéØ Pourquoi ce plugin ?</a></li><li><a href="#-installation" class="table-of-contents__link toc-highlight">üì¶ Installation</a><ul><li><a href="#docker-compose-recommand√©" class="table-of-contents__link toc-highlight">Docker Compose (Recommand√©)</a></li><li><a href="#installation-manuelle" class="table-of-contents__link toc-highlight">Installation manuelle</a></li></ul></li><li><a href="#Ô∏è-configuration" class="table-of-contents__link toc-highlight">‚öôÔ∏è Configuration</a><ul><li><a href="#1-premi√®re-connexion" class="table-of-contents__link toc-highlight">1. Premi√®re connexion</a></li><li><a href="#2-cr√©er-un-projet" class="table-of-contents__link toc-highlight">2. Cr√©er un projet</a></li><li><a href="#3-g√©n√©rer-un-token" class="table-of-contents__link toc-highlight">3. G√©n√©rer un token</a></li><li><a href="#4-configuration-gitlabgithub" class="table-of-contents__link toc-highlight">4. Configuration GitLab/GitHub</a></li></ul></li><li><a href="#-int√©gration-cicd" class="table-of-contents__link toc-highlight">üîÑ Int√©gration CI/CD</a><ul><li><a href="#gitlab-ci" class="table-of-contents__link toc-highlight">GitLab CI</a></li><li><a href="#jenkins" class="table-of-contents__link toc-highlight">Jenkins</a></li><li><a href="#ligne-de-commande" class="table-of-contents__link toc-highlight">Ligne de commande</a></li></ul></li><li><a href="#-configuration-g√©n√©rique" class="table-of-contents__link toc-highlight">üìÅ Configuration g√©n√©rique</a><ul><li><a href="#fichier-sonar-projectproperties" class="table-of-contents__link toc-highlight">Fichier sonar-project.properties</a></li><li><a href="#configuration-par-outil-de-build" class="table-of-contents__link toc-highlight">Configuration par outil de build</a></li><li><a href="#scan-universel-avec-sonar-scanner" class="table-of-contents__link toc-highlight">Scan universel avec sonar-scanner</a></li></ul></li><li><a href="#-configuration-avanc√©e" class="table-of-contents__link toc-highlight">üéØ Configuration avanc√©e</a><ul><li><a href="#quality-gate" class="table-of-contents__link toc-highlight">Quality Gate</a></li><li><a href="#quality-profile" class="table-of-contents__link toc-highlight">Quality Profile</a></li><li><a href="#exclusions-globales" class="table-of-contents__link toc-highlight">Exclusions globales</a></li></ul></li><li><a href="#-s√©curit√©" class="table-of-contents__link toc-highlight">üîê S√©curit√©</a><ul><li><a href="#ssltls" class="table-of-contents__link toc-highlight">SSL/TLS</a></li><li><a href="#authentification-ldap" class="table-of-contents__link toc-highlight">Authentification LDAP</a></li></ul></li><li><a href="#-webhooks-et-int√©grations" class="table-of-contents__link toc-highlight">üìä Webhooks et int√©grations</a><ul><li><a href="#gitlab-webhook" class="table-of-contents__link toc-highlight">GitLab Webhook</a></li><li><a href="#alertes-email" class="table-of-contents__link toc-highlight">Alertes email</a></li></ul></li><li><a href="#-troubleshooting" class="table-of-contents__link toc-highlight">üÜò Troubleshooting</a><ul><li><a href="#plugin-non-charg√©" class="table-of-contents__link toc-highlight">Plugin non charg√©</a></li><li><a href="#erreur-de-connexion-db" class="table-of-contents__link toc-highlight">Erreur de connexion DB</a></li><li><a href="#branch-analysis-ne-fonctionne-pas" class="table-of-contents__link toc-highlight">Branch analysis ne fonctionne pas</a></li><li><a href="#mr-decoration-ne-saffiche-pas" class="table-of-contents__link toc-highlight">MR decoration ne s&#39;affiche pas</a></li></ul></li><li><a href="#-meilleures-pratiques" class="table-of-contents__link toc-highlight">üéØ Meilleures pratiques</a><ul><li><a href="#1-scanner-√†-chaque-commit" class="table-of-contents__link toc-highlight">1. Scanner √† chaque commit</a></li><li><a href="#2-quality-gate-obligatoire" class="table-of-contents__link toc-highlight">2. Quality Gate obligatoire</a></li><li><a href="#3-coverage-minimale" class="table-of-contents__link toc-highlight">3. Coverage minimale</a></li><li><a href="#4-exclure-les-fichiers-g√©n√©r√©s" class="table-of-contents__link toc-highlight">4. Exclure les fichiers g√©n√©r√©s</a></li><li><a href="#5-maintenance-r√©guli√®re" class="table-of-contents__link toc-highlight">5. Maintenance r√©guli√®re</a></li></ul></li><li><a href="#-m√©triques-importantes" class="table-of-contents__link toc-highlight">üìà M√©triques importantes</a></li><li><a href="#-mise-√†-jour" class="table-of-contents__link toc-highlight">üîÑ Mise √† jour</a></li><li><a href="#-ressources" class="table-of-contents__link toc-highlight">üìö Ressources</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>